{"version":3,"sources":["state/StateTypes.js","state/Actions.js","conversation/msgs.js","conversation/ConversationUtils.js","nn-architecture/hyperparams.js","nn-architecture/Layer.js","conversation/RespondMessage.js","conversation/RespondState.js","conversation/Conversation.js","state/NNState.js","containers/WidgetContainer.js","state/State.js","components/toolbox/NNFFToolbox.js","containers/ToolboxContainer.react.js","containers/RightColumnContainer.js","components/VisualizerOptionSelectionGrid.js","containers/SummaryContainer.js","nn-architecture/Network.js","components/VisualizerNNContainer.js","components/PlotKNN.js","containers/PlotsContainer.js","containers/VisualizerContainer.js","codegen/networkCode.js","codegen/codeGen.js","codegen/sharedCode.js","codegen/importsCode.js","codegen/preprocessCode.js","codegen/knnCode.js","codegen/regressionCode.js","containers/CodeContainer.js","containers/MainColumnContainer.js","containers/ContentContainer.js","containers/AppContainer.js","serviceWorker.js","index.js","logo.svg"],"names":["Tasks","Object","freeze","CLASSIFICATION","REGRESSION","NATURAL_LANGUAGE","Models","LINEAR_REGRESSION","POISSON_REGRESSION","ORDINAL_REGRESSION","KNN","NEURAL_NETWORK_FF","SENTIMENT_ANALYSIS","ENTITY_RECOGNITION","DatasetCategory","CUSTOM","SAMPLE","Preprocessors","IRIS","BOSTON","PCA","NORMALIZATION","StepperState","TASK","DATASET","MODEL","PREPROCESSORS","VISUALIZE","StepperStateOrder","InitialState","task","task_otto","model","model_otto","dataset_category","dataset_category_otto","sample_dataset","sample_dataset_otto","preprocessors","preprocessors_otto","stepper_state","stepper_finish","Actions","SET_TASK","SET_MODEL","SET_DATASET_CATEGORY","SET_SAMPLE_DATASET","SET_TASK_OTTO","SET_MODEL_OTTO","SET_DATASET_CATEGORY_OTTO","SET_SAMPLE_DATASET_OTTO","TOGGLE_PREPROCESSOR","TOGGLE_PREPROCESSOR_OTTO","STEPPER_HANDLE_NEXT","STEPPER_HANDLE_PREVIOUS","HANDLE_STEPPER_FINISH","HANDLE_RESET","TaskRecommendation","ModelRecommendation","intentToTask","task_reg","task_class","task_nlp","regressionEntityToModel","classificationEntityToModel","getWitResult","wit","utterance","a","message","extractTask","witResponse","intents","length","topIntentName","name","extractSubject","entities","subject","extractRegressionModel","statement","keys","models","map","entity","extractClassificationModel","Optimizers","ADAM","Losses","BINARY_CLASS","MULTI_CLASS","Activations","RELU","SIGMOID","TANH","SOFTMAX","Initializers","GLOROT","RANDOM","HE","LECUN","Layer","INPUT","DENSE","units","this","responseToMessage","userMessage","wits","state","dispatch","nn_state","nn_dispatch","taskStep","modelStep","architectureStep","nn","console","log","witResult","taskForSampleDataset","modelForSampleDataset","sampleDataset","matchedKeywords","type","msgs","layers","activation","outputActivation","initializer","optimizer","loss","dataStep","responses","push","preprocessorsStep","visualizeStep","require","Wit","token","Conversation","say","sayMessages","messages","Array","isArray","flat","Promise","r","setTimeout","writeDelay","handleUserMessage","document","getElementsByClassName","value","handleStateAdvance","responseToState","ottoTask","accessToken","task_tester","ottoModel","ottoNN","msg","initialState","NNStateContext","createContext","DispatchNNStateContext","reducer","action","NNStateProvider","children","useReducer","Provider","useNNState","useContext","convo","addResponseMessage","initializeWidget","deleteMessages","WidgetContainer","useState","useEffect","toggleWidget","handleSubmit","launcher","subtitle","title","titleAvatar","logo","StateContext","DispatchStateContext","NumSteps","getActiveStep","indexOf","currentPreprocessors","includes","preprocessor","filter","val","nextState","handleNext","StateProvider","useStyles","makeStyles","theme","root","backgroundColor","palette","background","paper","width","tab","outline","layerInputItem","marginBottom","layerInput","height","borderRadius","textAlign","button","minWidth","LayerOption","layer","classes","Grid","className","item","container","direction","Button","disableElevation","variant","color","min","max","NNFFToolbox","headerText","paddingLeft","spacing","paddingTop","paddingBottom","fontWeight","card","marginTop","ToolboxContainer","Grow","in","Typography","Card","CardContent","getToolboxContent","RightColumnContainer","Row","StyledBadge","withStyles","badge","position","top","left","content","Badge","titleInner","fontSize","large","avatarItem","avatarItemSelected","boxShadow","border","avatarLabel","avatarLabelSelected","recommend","marginRight","marginLeft","getOptions","options","key","label","TaskToModelsMap","VisualizerOptionSelectionGrid","getIsSelected","AvatarItem","props","avatar","Avatar","alt","src","onClick","optionOnClickHandler","justify","alignItems","Tooltip","placement","overlap","anchorOrigin","vertical","horizontal","badgeContent","stepLabel","actionsContainer","resetContainer","padding","optionLabel","borderLeft","VerticalLinearStepper","steps","SelectedOptionLabel","option","index","join","Stepper","activeStep","orientation","Step","StepLabel","StepContent","step","getStepContent","Paper","square","elevation","FeedforwardNN","lastHiddenSize","newLayer","splice","connect","prevLayerNodes","thisLayerNodes","edges","i","prevNode","source","id","j","thisNode","edge","target","size","getMaxNodeCount","network","nodeCount","numNodes","VisualizerNNContainer","data","g","coloredLayer","graph","nodes","x","vgap","initY","node","y","toGraph","style","transform","settings","maxNodeSize","maxEdgeSize","defaultNodeColor","clone","enableHovering","rescaleIgnoreSize","data01","z","data02","PlotKNN","margin","right","bottom","dataKey","unit","range","cursor","strokeDasharray","fill","shape","PlotsContainer","rootExplanation","rootActions","fullWidth","fullHeight","visualizerHeight","VisualizerContainer","CardActions","display","float","startIcon","NavigateBeforeRounded","disabled","some","endIcon","NavigateNextRounded","StringBuilder","layerCode","sb","inputLayerCode","outputLayerCode","hiddenLayerCode","appendLine","toString","codeGen","dataset","append","params","sliceData","networkCode","components","preprocessCode","componentsForModel","CodeContainer","MainColumnContainer","ContentContainer","Col","lg","App","Container","fluid","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","AppContainer","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports"],"mappings":"skBAAaA,EAAQC,OAAOC,OAAO,CACjCC,eAAgB,iBAChBC,WAAY,aACZC,iBAAkB,qBAGPC,EAASL,OAAOC,OAAO,CAClCK,kBAAmB,oBACnBC,mBAAoB,qBACpBC,mBAAoB,qBACpBC,IAAK,sBACLC,kBAAmB,6BACnBC,mBAAoB,qBACpBC,mBAAoB,uBAkCTC,EAAkBb,OAAOC,OAAO,CAC3Ca,OAAQ,SACRC,OAAQ,WAQGC,GALgBhB,OAAOC,OAAO,CACzCgB,KAAM,OACNC,OAAQ,WAGmBlB,OAAOC,OAAO,CACzCkB,IAAK,MACLC,cAAe,mBAGJC,EAAerB,OAAOC,OAAO,CACxCqB,KAAM,OACNC,QAAS,UACTC,MAAO,QACPC,cAAe,gBACfC,UAAW,cAGAC,EAAoB,CAC/BN,EAAaC,KACbD,EAAaE,QACbF,EAAaG,MACbH,EAAaI,cACbJ,EAAaK,WA2CFE,EAAgC,iBAAO,CAClDC,KAAM9B,EAAMG,eACZ4B,UAAW,KACXC,MAAO1B,EAAOK,kBACdsB,WAAY,KACZC,iBAAkBpB,EAAgBC,OAClCoB,sBAAuB,KACvBC,eAAgB,KAChBC,oBAAqB,KACrBC,cAAe,GACfC,mBAAoB,GAEpBC,cAAelB,EAAaK,UAC5Bc,gBAAgB,IC3HLC,EAAUzC,OAAOC,OAAO,CACnCyC,SAAU,WACVC,UAAW,YACXC,qBAAsB,uBACtBC,mBAAoB,qBACpBC,cAAe,gBACfC,eAAgB,iBAChBC,0BAA2B,4BAC3BC,wBAAyB,0BACzBC,oBAAqB,sBACrBC,yBAA0B,2BAC1BC,oBAAqB,sBACrBC,wBAAyB,0BACzBC,sBAAuB,wBACvBC,aAAc,iB,iBCXHC,EAAqB,SAAC3B,GAC/B,MAAO,CAAC,eAAD,0BAEgBA,EAFhB,0CA+CE4B,EAAsB,SAAC1B,GAChC,MAAO,CAAC,2BAAD,OACwBA,EADxB,6B,iDCxDL2B,EAAe,CACjBC,SAAU5D,EAAMI,WAChByD,WAAY7D,EAAMG,eAClB2D,SAAU9D,EAAMK,kBAGd0D,EAA0B,CAC5B,kBAAmBzD,EAAOE,mBAC1B,kBAAmBF,EAAOG,oBAGxBuD,EAA8B,CAChC,UAAW1D,EAAOI,KAcTuD,EAAY,uCAAG,WAAOC,EAAKC,GAAZ,SAAAC,EAAA,sEACXF,EAAIG,QAAQF,GADD,mFAAH,wDAYZG,EAAc,SAACC,GACxB,IAAIC,EAAUD,EAAYC,QACtB1C,EAAO,KACX,GAAI0C,EAAQC,OAAS,EAAG,CACpB,IACIC,EADYF,EAAQ,GACMG,KAC9B7C,EAAO6B,EAAae,GAExB,OAAO5C,GAGE8C,EAAiB,SAACL,GAC3B,IAAIM,EAAWN,EAAYM,SACvBC,EAAU,KACV,oBAAqBD,IAGvBC,EAFmBD,EAAS,mBACK,GACV,MAEzB,OAAOC,GAGEC,EAAsB,uCAAG,WAAOC,EAAWd,GAAlB,mBAAAE,EAAA,sEACRH,EAAaC,EAAKc,GADV,UAC5BT,EAD4B,OAE9BM,EAAW5E,OAAOgF,KAAKV,EAAYM,UAElB,IADjBK,EAASL,EAASM,KAAI,SAAAC,GAAM,OAAIrB,EAAwBqB,OACjDX,OAJuB,yCAKvBnE,EAAOC,mBALgB,gCAO3B2E,EAAO,IAPoB,2CAAH,wDAqBtBG,EAA0B,uCAAG,WAAOL,EAAWd,GAAlB,mBAAAE,EAAA,sEACZH,EAAaC,EAAKc,GADN,UAChCT,EADgC,OAElCM,EAAW5E,OAAOgF,KAAKV,EAAYM,UAElB,IADjBK,EAASL,EAASM,KAAI,SAAAC,GAAM,OAAIpB,EAA4BoB,OACrDX,OAJ2B,yCAK3BnE,EAAOK,mBALoB,gCAO/BuE,EAAO,IAPwB,2CAAH,wDCrF1BI,EAAarF,OAAOC,OAAO,CACpCqF,KAAM,SAGGC,EAASvF,OAAOC,OAAO,CAChCuF,aAAc,sBACdC,YAAa,6BAGJC,EAAc1F,OAAOC,OAAO,CACrC0F,KAAM,OACNC,QAAS,UACTC,KAAM,OACNC,QAAS,YAGAC,EAAe/F,OAAOC,OAAO,CACtC+F,OAAQ,iBACRC,OAAQ,iBACRC,GAAI,aACJC,MAAO,kBCpBEC,GDuBSpG,OAAOC,OAAO,CAChCoG,MAAO,QACPC,MAAO,UCvBP,WAAYC,GAAQ,oBAChBC,KAAKD,MAAQA,ICgBRE,EAAiB,uCAAG,WAAOC,EAAaC,EAAMC,EAAOC,EAAUC,EAAUC,GAArD,SAAA5C,EAAA,2DAErByC,EAAMrE,cAFe,cAGpBlB,EAAaC,KAHO,SAOpBD,EAAaG,MAPO,SASpBH,EAAaK,UATO,iCAIRsF,EAASN,EAAaC,EAAK9E,KAAM+E,EAAOC,GAJhC,wEAQdI,EAAUP,EAAaC,EAAK5E,MAAO6E,EAAOC,IAR5B,UAUjBD,EAAM7E,QAAU1B,EAAOK,kBAVN,yCAWVwG,EAAiBR,EAAaC,EAAKQ,GAAIL,EAAUC,IAXvC,2CAAH,gEAiBxBC,EAAQ,uCAAG,WAAON,EAAazC,EAAK2C,EAAOC,GAAhC,+BAAA1C,EAAA,6DACbiD,QAAQC,IAAI,YADC,SAIWrD,EAAaC,EAAKyC,GAJ7B,UAIPY,EAJO,OAKbF,QAAQC,IAAIC,GAGNzC,EAAUF,EAAe2C,GAC/BF,QAAQC,IAAIxC,GAGaA,GAAoB6B,EAZhC,EHGN,CAFW,KACC,KAHC,KACE,MGAT,mBAaNa,EAbM,KAagBC,EAbhB,KAauCC,EAbvC,KAasDC,EAbtD,KAgBbN,QAAQC,IAAIE,GACZH,QAAQC,IAAII,GACZL,QAAQC,IAAIK,GAGN7F,EAAO0F,GAA8ClD,EAAYiD,GACvEF,QAAQC,IAAIxF,GACR4F,IAEAZ,EAAS,CACLc,KAAMlF,EAAQG,qBACdX,iBAAkBpB,EAAgBE,SAEtC8F,EAAS,CACLc,KAAMlF,EAAQO,0BACdf,iBAAkBpB,EAAgBE,SAGtC8F,EAAS,CACLc,KAAMlF,EAAQI,mBACdV,eAAgBsF,IAEpBZ,EAAS,CACLc,KAAMlF,EAAQQ,wBACdd,eAAgBsF,IAGpBZ,EAAS,CACLc,KAAMlF,EAAQE,UACdZ,MAAOyF,IAEXX,EAAS,CACLc,KAAMlF,EAAQM,eACdhB,MAAOyF,MAIX3F,EArDS,wBAuDTgF,EAAS,CACLc,KAAMlF,EAAQC,SACdb,KAAMA,IAEVgF,EAAS,CACLc,KAAMlF,EAAQK,cACdjB,KAAMA,IA7DD,kBAgEF+F,EAAwB/F,IAhEtB,iCJVN,CACH,6FACA,0NACA,0HACA,2EIMS,4CAAH,4DAuERoF,EAAS,uCAAG,WAAOP,EAAazC,EAAK2C,EAAOC,GAAhC,iBAAA1C,EAAA,yDACdiD,QAAQC,IAAI,aAENxF,EAAO+E,EAAM/E,KACfE,EAAQ6E,EAAM7E,MAElBqF,QAAQC,IAAI,WAAYxF,GACxBuF,QAAQC,IAAI,YAAatF,GAGpBA,EAVS,sBAWFF,EAXE,cAYD9B,EAAMI,WAZL,SAeDJ,EAAMG,eAfL,oCAaY4E,EAAuB4B,EAAazC,GAbhD,eAaFlC,EAbE,qDAgBYqD,EAA2BsB,EAAazC,GAhBpD,kDAiBE5D,EAAOK,kBAjBT,eAgBFqB,EAhBE,kCAqBV8E,EAAS,CACLc,KAAMlF,EAAQE,UACdZ,MAAOA,IAEX8E,EAAS,CACLc,KAAMlF,EAAQM,eACdhB,MAAOA,IA3BD,iCAgCP6F,EAAyB7F,IAhClB,4CAAH,4DAoCTmF,EAAgB,uCAAG,WAAOR,EAAazC,EAAK6C,EAAUC,GAAnC,SAAA5C,EAAA,sDAGrBiD,QAAQC,IAAI,sBAAuBP,GACnCC,EAAY,CACRc,OAAQ,CACN,IAAIzB,EAAM,IAEZ0B,WAAYpC,EAAYC,KACxBoC,iBAAkBrC,EAAYI,QAC9BkC,YAAajC,EAAaC,OAC1BiC,UAAW5C,EAAWC,KACtB4C,KAAM3C,EAAOC,eAZI,2CAAH,4DC7HhB2C,EAAW,SAACvB,KAIZK,EAAY,SAACL,GACf,IAAMwB,EAAY,GAElB,OADAA,EAAUC,KLWH,CACH,wHKXIzB,EAAM/E,MACV,KAAK9B,EAAMG,eACPkI,EAAUC,KL2BX,CACH,mDK3BI,MACJ,KAAKtI,EAAMI,WACPiI,EAAUC,KLkBX,CACH,8DKlBI,MACJ,KAAKtI,EAAMK,iBACPgI,EAAUC,KLQX,CACH,qHACA,uGKPJ,OAAOD,GAGLE,EAAoB,SAAC1B,GACvB,ML0BO,CACH,0HKxBF2B,EAAgB,SAAC3B,GACnB,GAAIA,EAAM7E,QAAU1B,EAAOK,kBACvB,ML2BG,CACH,kEACA,qGACA,kF,EMzEa8H,EAAQ,KAArBC,E,EAAAA,IACFC,G,EADOrB,IACCmB,EAAQ,MAEDG,G,WAEjB,WAAYC,GAAM,IAAD,gCAmBjBC,YAnBiB,uCAmBH,WAAOC,GAAP,mBAAA3E,EAAA,sDACL4E,MAAMC,QAAQF,KACfA,EAAW,CAACA,IAEhBA,EAAWA,EAASG,KAAK,GAJf,cAKUH,GALV,aAAA3E,EAAA,kCAAAA,EAAA,yDAMS,OADVC,EALC,yCAOI,IAAI8E,SAAQ,SAACC,GAAD,OAAOC,WAAWD,EAAGE,GAAWjF,OAPhD,OAQF,EAAKwE,IAAIxE,GARP,mUAnBG,2DAgCjBkF,kBAhCiB,uCAgCG,WAAO5C,EAAaE,EAAOC,EAAUC,EAAUC,GAA/C,SAAA5C,EAAA,6DAChBoF,SAASC,uBAAuB,cAAc,GAAGpF,QAAQqF,MAAQ,GACjErC,QAAQC,IAAR,6CAAkDX,IAClDU,QAAQC,IAAI,UAAWT,GAHP,KAMV,EANU,SAONH,EAAkBC,EAAa,EAAKC,KAAMC,EAAOC,EAAUC,EAAUC,GAP/D,wCAML8B,YANK,2DAhCH,mEA2CjBa,mBAAqB,SAAC9C,GAClBQ,QAAQC,IAAR,4BACAD,QAAQC,IAAI,UAAWT,GAEvB,EAAKiC,YDnDkB,SAACjC,GAC5B,OAAQA,EAAMrE,eAGV,KAAKlB,EAAaE,QACd,OAAO4G,EAASvB,GACpB,KAAKvF,EAAaG,MACd,OAAOyF,EAAUL,GACrB,KAAKvF,EAAaI,cACd,OAAO6G,EAAkB1B,GAC7B,KAAKvF,EAAaK,UACd,OAAO6G,EAAc3B,ICyCrB+C,CAAgB/C,KA9CpBJ,KAAKoC,IAAMA,EACXpC,KAAKoD,SAAW,IAAInB,EAAI,CACpBoB,YAAanB,EAAMoB,cAEvBtD,KAAKuD,UAAY,IAAItB,EAAI,CACrBoB,YAAanB,EAAM3G,QAEvByE,KAAKwD,OAAS,IAAIvB,EAAI,CAClBoB,YAAanB,EAAMvB,KAEvBX,KAAKG,KAAO,CACR9E,KAAM2E,KAAKoD,SACX7H,MAAOyE,KAAKuD,UACZ5C,GAAIX,KAAKwD,Q,qDAsCb,OAAO,S,KAKf,SAASX,GAAWY,GAEDA,EAAIzF,OAGnB,OAAO,IC1DX,IAgBM0F,GAhBsB,CAC1BrC,OAAQ,CACN,IAAIzB,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,GACV,IAAIA,EAAM,IAEZ0B,WAAYpC,EAAYC,KACxBoC,iBAAkBrC,EAAYI,QAC9BkC,YAAajC,EAAaC,OAC1BiC,UAAW5C,EAAWC,KACtB4C,KAAM3C,EAAOC,cAIT2E,GAAiBC,wBAAcF,IAC/BG,GAAyBD,yBAAc,kBAAM,QAEnD,SAASE,GAAQ1D,EAAO2D,GAGlB,OAFIA,EAAO5C,KAEJf,EAIN,IAAM4D,GAAkB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACrBC,qBAAWJ,GAASJ,IADC,mBACxCtD,EADwC,KACjCC,EADiC,KAE/C,OACE,kBAACsD,GAAeQ,SAAhB,CAAyBlB,MAAO7C,GAC9B,kBAACyD,GAAuBM,SAAxB,CAAiClB,MAAO5C,GACrC4D,KAMIG,GAAa,iBAAO,CAC/B9D,SAAU+D,qBAAWV,IACrBpD,YAAa8D,qBAAWR,MCpCpBS,GAAQ,IAAInC,GAAaoC,sBAExB,SAASC,KACdC,2BACAH,GAAMjC,YRnBG,CACH,aACA,qCQ0DOqC,OAlCf,WAA4B,IAAD,EACGC,KAApBvE,EADiB,EACjBA,MAAOC,EADU,EACVA,SADU,EAES+D,KAA1B9D,EAFiB,EAEjBA,SAAUC,EAFO,EAEPA,YAqBlB,OAnBAqE,qBAAU,WACRC,yBACAL,OACC,IAiBD,kBAAC,SAAD,CACEM,aAhBiB,SAAC5E,GACpBoE,GAAMxB,kBAAkB5C,EAAaE,EAAOC,EAAUC,EAAUC,IAgB9DwE,SAAU,kBAAM,MAChBC,SAAS,GACTC,MAAM,OACNC,YAAaC,OC5CbzB,GAAetI,IAERgK,GAAexB,wBAAcF,IAC7B2B,GAAuBzB,yBAAc,kBAAM,QAClD0B,GAAWnK,EAAkB6C,OAEnC,SAAS8F,GAAQ1D,EAAkB2D,GACjC,IAAMwB,EAAgB,WACpB,OAAOpK,EAAkBqK,QAAQpF,EAAMrE,gBAGzC,OAAQgI,EAAO5C,MACb,KAAKlF,EAAQC,SACX,OAAO,2BAAKkE,GAAZ,IAAmB/E,KAAM0I,EAAO1I,OAClC,KAAKY,EAAQG,qBACX,OAAO,2BAAKgE,GAAZ,IAAmB3E,iBAAkBsI,EAAOtI,mBAC9C,KAAKQ,EAAQE,UACX,OAAO,2BAAKiE,GAAZ,IAAmB7E,MAAOwI,EAAOxI,QACnC,KAAKU,EAAQI,mBACX,OAAO,2BAAK+D,GAAZ,IAAmBzE,eAAgBoI,EAAOpI,iBAC5C,KAAKM,EAAQK,cACX,OAAO,2BAAK8D,GAAZ,IAAmB9E,UAAWyI,EAAO1I,OACvC,KAAKY,EAAQO,0BACX,OAAO,2BAAK4D,GAAZ,IAAmB1E,sBAAuBqI,EAAOtI,mBACnD,KAAKQ,EAAQM,eACX,OAAO,2BAAK6D,GAAZ,IAAmB5E,WAAYuI,EAAOxI,QACxC,KAAKU,EAAQQ,wBACX,OAAO,2BAAK2D,GAAZ,IAAmBxE,oBAAqBmI,EAAOpI,iBACjD,KAAKM,EAAQS,oBACX,IAAI+I,EAAuBrF,EAAMvE,cAQjC,OAPI4J,EAAqBC,SAAS3B,EAAO4B,cACvCF,EAAuBA,EAAqBG,QAC1C,SAACC,GAAD,OAASA,IAAQ9B,EAAO4B,gBAG1BF,EAAqB5D,KAAKkC,EAAO4B,cAE5B,2BACFvF,GADL,IAEEvE,cAAe4J,IAGnB,KAAKxJ,EAAQU,yBACX,IAAI8I,EAAuBrF,EAAMtE,mBAQjC,OANE2J,EADEA,EAAqBC,SAAS3B,EAAO4B,cAChBF,EAAqBG,QAC1C,SAACC,GAAD,OAASA,IAAQ9B,EAAO4B,gBAGHF,EAAqB5D,KAAKkC,EAAO4B,cAEnD,2BACFvF,GADL,IAEEtE,mBAAoB2J,IAGxB,KAAKxJ,EAAQW,oBACX,IAAMkJ,EAAS,2BACV1F,GADU,IAEbrE,cACEuJ,KAAaC,IACTD,GACAnK,EAAkBoK,IAAkB,KAG5C,ODtDoB,SAACnF,GACzBkE,GAAMpB,mBAAmB9C,GCoDrB2F,CAAWD,GACJA,EACT,KAAK7J,EAAQY,wBAOX,OANe,2BACVuD,GADU,IAEbrE,cACEZ,EAAkBA,EAAkBqK,QAAQpF,EAAMrE,eAAiB,GACrEC,gBAAgB,IAGpB,KAAKC,EAAQa,sBACX,OAAO,2BACFsD,GADL,IAEEpE,gBAAgB,IAEpB,KAAKC,EAAQc,aAEX,OADAyH,KACOpJ,IACT,QACE,OAAOgF,GAIN,IAAM4F,GAAgB,SAAC,GAAkB,IAAhB/B,EAAe,EAAfA,SAAe,EACnBC,qBAAWJ,GAASJ,IADD,mBACtCtD,EADsC,KAC/BC,EAD+B,KAE7C,OACE,kBAAC+E,GAAajB,SAAd,CAAuBlB,MAAO7C,GAC5B,kBAACiF,GAAqBlB,SAAtB,CAA+BlB,MAAO5C,GACnC4D,KAMIU,GAAW,iBAAO,CAC7BvE,MAAOiE,qBAAWe,IAClB/E,SAAUgE,qBAAWgB,M,0HC3FjBY,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,WAAWC,MAC1CC,MAAO,QAETC,IAAK,CACHC,QAAS,mBAGXC,eAAgB,CACdC,aAAc,GAEhBC,WAAY,CACVL,MAAO,GACPM,OAAQ,GACRC,aAAc,iBACdC,UAAW,UAEbC,OAAQ,CACNC,SAAU,kBACVV,MAAO,GACPE,QAAS,YAMb,SAASS,GAAT,GAAiC,IAAVC,EAAS,EAATA,MACfC,EAAUrB,KAChB,OACE,kBAACsB,GAAA,EAAD,CAAMC,UAAWF,EAAQV,eAAgBa,MAAI,GAC3C,kBAACF,GAAA,EAAD,CAAMG,WAAS,EAACC,UAAU,OACxB,kBAACJ,GAAA,EAAD,CAAME,MAAI,GACR,kBAACG,GAAA,EAAD,CACEJ,UAAWF,EAAQJ,OACnBW,kBAAgB,EAChBC,QAAQ,YACRC,MAAM,WAEN,kBAAC,KAAD,QAGJ,kBAACR,GAAA,EAAD,CAAME,MAAI,GACR,kBAAC,KAAD,CACED,UAAWF,EAAQR,WACnBkB,IAAK,EACLC,IAAK,GACLhF,MAAOoE,EAAMtH,WAQV,SAASmI,KACtB,IAAMZ,EAAUrB,KADoB,EAERtB,KAFQ,KAE5BvE,MAF4B,EAErBC,SACmB+D,MAA1B9D,EAH4B,EAG5BA,SAH4B,EAGlBC,YAClB,OACE,yBAAKiH,UAAWF,EAAQlB,MAAxB,QAEE,kBAACmB,GAAA,EAAD,CAAMG,WAAS,EAACC,UAAU,UACvBrH,EAASe,OAAO3C,KAAI,SAAC2I,GAAD,OACnB,kBAACD,GAAD,CAAaC,MAAOA,OAEtB,kBAACD,GAAD,CAAaC,MAAO,CAAEtH,MAAO,OC/ErC,IAAMkG,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJK,MAAO,OAGT0B,WAAY,CACVC,YAAajC,EAAMkC,QAAQ,GAC3BC,WAAYnC,EAAMkC,QAAQ,GAC1BE,cAAepC,EAAMkC,QAAQ,GAC7BG,WAAY,OAEdC,KAAM,CACJC,UAAW,MACX3B,OAAQ,YAeG,SAAS4B,KACtB,IAAMrB,EAAUrB,KADyB,EAEbtB,KAApBvE,EAFiC,EAEjCA,MAFiC,EAE1BC,SACf,OACE,kBAACuI,GAAA,EAAD,CAAMC,GAAIzI,EAAMrE,gBAAkBlB,EAAaK,WAC7C,yBAAKsM,UAAWF,EAAQlB,MACtB,kBAAC0C,GAAA,EAAD,CAAYtB,UAAWF,EAAQa,WAAYL,QAAQ,MAAnD,WAGA,kBAACiB,GAAA,EAAD,CAAMvB,UAAWF,EAAQmB,KAAMX,QAAQ,YACrC,kBAACkB,GAAA,EAAD,KArBgB,SAAC5I,GACzB,OAAQA,EAAM7E,OACZ,KAAK1B,EAAOC,kBACV,OAAO,qCACT,KAAKD,EAAOK,kBACV,OAAO,kBAACgO,GAAD,MACT,QACE,OAAO,sCAcWe,CAAkB7I,OC/B3B8I,OAVf,WACE,OACE,oCACE,kBAACC,EAAA,EAAD,CAAK3B,UAAU,oBACb,kBAACmB,GAAD,S,oFCWR,IAAMS,GAAcC,cAAW,SAAClD,GAAD,MAAY,CACzCmD,MAAO,CACL7C,MAAO,GACP,WAAY,CACV8C,SAAU,WACVC,IAAK,EACLC,KAAM,EACNhD,MAAO,OACPM,OAAQ,OACRC,aAAc,MACd0C,QAAS,UAVKL,CAahBM,MAEE1D,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCyD,WAAY,CACVC,SAAU,GACVrB,WAAY,IACZE,UAAW,GAEb1D,SAAU,CACR0D,UAAW,GACX7B,aAAc,GACd2B,WAAY,KAEdsB,MAAO,CACLrD,MAAON,EAAMkC,QAAQ,IACrBtB,OAAQZ,EAAMkC,QAAQ,KAExB0B,WAAY,CACV9C,UAAW,iBACXR,MAAO,KAETuD,mBAAoB,CAClBvD,MAAON,EAAMkC,QAAQ,IACrBtB,OAAQZ,EAAMkC,QAAQ,IACtB4B,UACE,wGACFC,OAAQ,qBAEVC,YAAa,CACXzB,UAAW,IAEb0B,oBAAqB,CACnB1B,UAAW,GACXF,WAAY,KAEd6B,UAAW,CACT5D,MAAO,IAETS,OAAQ,CACNL,aAAcV,EAAMkC,QAAQ,GAC5BiC,YAAanE,EAAMkC,QAAQ,GAC3BkC,WAAYpE,EAAMkC,QAAQ,QAIvB,SAASmC,GAAWpK,GACzB,IAAMqK,EAAU,GAEhB,OADqBrK,EAAMrE,eAEzB,KAAKlB,EAAaC,KAOhB,OANAtB,OAAOgF,KAAKjF,GAAOmF,KAAI,SAACgM,GAAD,OACrBD,EAAQ5I,KAAK,CACX8I,MAAOpR,EAAMmR,GACbvJ,KAAMtG,EAAaC,UAGhB2P,EACT,KAAK5P,EAAaE,QAOhB,OANAvB,OAAOgF,KAAKnE,GAAiBqE,KAAI,SAACgM,GAAD,OAC/BD,EAAQ5I,KAAK,CACX8I,MAAOtQ,EAAgBqQ,GACvBvJ,KAAMtG,EAAaE,aAGhB0P,EACT,KAAK5P,EAAaG,MAOhB,OANAxB,OAAOgF,KfnFkB,SAACnD,GAC9B,IAoBmB,EAXA,EANA,EAFnB,OAAQA,GACN,KAAK9B,EAAMG,eAKT,MAJgD,CAC9CO,KADa,EAGXJ,GAHcI,IAEhBC,kBAFa,EAAQA,mBAKzB,KAAKX,EAAMI,WAUT,MALO,CACLG,mBALa,EAQXD,GAPFC,kBAKAC,mBANa,EAEbA,mBAKAC,mBAPa,EAGbA,oBAOJ,KAAKT,EAAMK,iBAKT,MAJgE,CAC9DO,oBADa,EAGXN,GAHcM,mBAEhBC,mBAFa,EAAuBA,oBAKxC,QACE,MAAO,IewDKwQ,CAAgBxK,EAAM/E,OAAOqD,KAAI,SAACgM,GAAD,OAC3CD,EAAQ5I,KAAK,CACX8I,MAAO9Q,EAAO6Q,GACdvJ,KAAMtG,EAAaG,WAGhByP,EACT,KAAK5P,EAAaI,cAOhB,OANAzB,OAAOgF,KAAKhE,GAAekE,KAAI,SAACgM,GAAD,OAC7BD,EAAQ5I,KAAK,CACX8I,MAAOnQ,EAAckQ,GACrBvJ,KAAMtG,EAAaI,mBAGhBwP,EACT,QACE,OAAOA,GAIE,SAASI,KACtB,IAAMvD,EAAUrB,KADsC,EAE1BtB,KAApBvE,EAF8C,EAE9CA,MAAOC,EAFuC,EAEvCA,SAWTyK,EAAgB,SAAC7H,GAAD,MACpB,CACE7C,EAAM/E,KACN+E,EAAM3E,iBACN2E,EAAMzE,eACNyE,EAAM7E,OAJR,oBAKK6E,EAAMvE,gBACT6J,SAASzC,IAgCb,SAAS8H,EAAWC,GAClB,IAAMC,EAASD,EAAMC,OACrB,OACE,kBAACC,GAAA,EAAD,CACEC,IAAKF,EAAON,MACZS,IAAKjG,IACLqC,UACEsD,EAAcG,EAAON,OACjBrD,EAAQ0C,mBACR1C,EAAQwC,MAEduB,QAAS,kBAzCc,SAAClK,EAAwB8B,GACpD,OAAQ9B,GACN,KAAKtG,EAAaC,KAChBuF,EAAS,CACPc,KAAMlF,EAAQC,SACdb,KAAM4H,IAER,MACF,KAAKpI,EAAaE,QAChBsF,EAAS,CACPc,KAAMlF,EAAQG,qBACdX,iBAAkBwH,IAEpB,MACF,KAAKpI,EAAaG,MAChBqF,EAAS,CACPc,KAAMlF,EAAQE,UACdZ,MAAO0H,IAET,MACF,KAAKpI,EAAaI,cAChBoF,EAAS,CACPc,KAAMlF,EAAQS,oBACdiJ,aAAc1C,KAkBDqI,CAAqBL,EAAO9J,KAAM8J,EAAON,UAK9D,OACE,oCACE,kBAAC7B,GAAA,EAAD,CAAYtB,UAAWF,EAAQsC,WAAY7B,MAAM,eAAjD,sBAGA,kBAACe,GAAA,EAAD,CAAYhB,QAAQ,KAAKN,UAAWF,EAAQtC,UAA5C,2BAC2B5E,EAAMrE,cADjC,oBAGA,kBAACwL,GAAA,EAAD,CACEG,WAAS,EACTC,UAAU,MACV4D,QAAQ,SACRC,WAAW,SACXnD,QAAS,GAERmC,GAAWpK,GAAO1B,KAAI,SAACuM,GAAD,OACrB,kBAAC1D,GAAA,EAAD,CAAME,MAAI,EAACD,UAAWF,EAAQyC,WAAYW,IAAKO,EAAON,QAhFpC1H,EAiFEgI,EAAON,MAhFjC,CACEvK,EAAM9E,UACN8E,EAAM1E,sBACN0E,EAAMxE,oBACNwE,EAAM5E,YAJR,oBAKK4E,EAAMtE,qBACT4J,SAASzC,GA2ED,kBAACwI,GAAA,EAAD,CAASxG,MAAM,uBAAuByG,UAAU,OAC9C,kBAACtC,GAAD,CACEuC,QAAQ,SACRC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,aACE,yBACEvE,UAAWF,EAAQ+C,UACnBe,IAAI,gEACJD,IAAI,OAIR,kBAACJ,EAAD,CAAYE,OAAQA,MAIxB,kBAACF,EAAD,CAAYE,OAAQA,KAEtB,kBAACnC,GAAA,EAAD,CACEf,MAAM,cACNP,UACEsD,EAAcG,EAAON,OACjBrD,EAAQ8C,oBACR9C,EAAQ6C,aAGbc,EAAON,QA/GK,IAAC1H,O,sDC7GtBgD,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJK,MAAO,MACP8D,WAAY,KAEdyB,UAAW,CACTnC,SAAU,IAEZ3C,OAAQ,CACNwB,UAAWvC,EAAMkC,QAAQ,GACzBiC,YAAanE,EAAMkC,QAAQ,IAE7B4D,iBAAkB,CAChBpF,aAAcV,EAAMkC,QAAQ,IAE9B6D,eAAgB,CACdC,QAAShG,EAAMkC,QAAQ,IAEzBF,WAAY,CACVC,YAAajC,EAAMkC,QAAQ,GAC3BC,WAAYnC,EAAMkC,QAAQ,GAC1BE,cAAepC,EAAMkC,QAAQ,GAC7BG,WAAY,OAEdC,KAAM,CACJC,UAAW,OAEb0D,YAAa,CACX7B,WAAY,GACZ8B,WAAY,oBACZjE,YAAa,GACbrB,OAAQ,GACRuB,WAAY,OAyBT,IAAM/C,GAAgB,SAACnF,GAAD,OAC3BA,EAAMpE,eACFb,EAAkB6C,OAClB7C,EAAkBqK,QAAQpF,EAAMrE,gBAEvB,SAASuQ,KACtB,IAAMhF,EAAUrB,KAD8B,EAElBtB,KAApBvE,EAFsC,EAEtCA,MAAOC,EAF+B,EAE/BA,SACTkM,EA5BC,CAAC,OAAQ,UAAW,QAAS,gBAAiB,aA8B/CC,EAAsB,SAACxB,GAC3B,IAAIyB,EAAS,KACb,OAAQzB,EAAM0B,OACZ,KAAK,EACHD,EAASrM,EAAM/E,KACf,MACF,KAAK,EACHoR,EAASrM,EAAM3E,iBACf,MACF,KAAK,EACHgR,EAASrM,EAAM7E,MACf,MACF,KAAK,EACHkR,EAASrM,EAAMvE,cAAc8Q,KAAK,MAKtC,OAAc,MAAVF,GAAkBlH,GAAcnF,IAAU4K,EAAM0B,MAC3C,KAEF,kBAAC5D,GAAA,EAAD,CAAYtB,UAAWF,EAAQ8E,aAAcK,IAStD,OACE,yBAAKjF,UAAWF,EAAQlB,MACtB,kBAAC0C,GAAA,EAAD,CAAYtB,UAAWF,EAAQa,WAAYL,QAAQ,MAAnD,yBAGA,kBAACiB,GAAA,EAAD,CAAMvB,UAAWF,EAAQmB,KAAMX,QAAQ,YACrC,kBAAC8E,GAAA,EAAD,CAASC,WAAYtH,GAAcnF,GAAQ0M,YAAY,YACpDP,EAAM7N,KAAI,SAACiM,EAAO+B,GAAR,OACT,kBAACK,GAAA,EAAD,CAAMrC,IAAKC,GACT,kBAACqC,GAAA,EAAD,KACG,kBAAClE,GAAA,EAAD,CAAYhB,QAAQ,MAAM6C,IAE7B,kBAACsC,GAAA,EAAD,KACE,kBAACnE,GAAA,EAAD,KAtEhB,SAAwBoE,GACtB,OAAQA,GACN,KAAK,EACH,MAAO,8DACT,KAAK,EACH,MAAO,iDACT,KAAK,EACH,MAAO,mEACT,KAAK,EACH,MAAO,0CACT,KAAK,EACH,MAAO,qCACT,QACE,MAAO,gBAyDgBC,CAAeT,KAE9B,kBAACF,EAAD,CAAqBE,MAAOA,UAKnCnH,GAAcnF,KAAWmM,EAAMvO,QAC9B,kBAACoP,GAAA,EAAD,CAAOC,QAAM,EAACC,UAAW,EAAG9F,UAAWF,EAAQ4E,gBAC7C,kBAACpD,GAAA,EAAD,8CACA,kBAAClB,GAAA,EAAD,CAAQyD,QA7BI,WAClBhL,EAAS,CACPc,KAAMlF,EAAQc,gBA2BoByK,UAAWF,EAAQJ,QAAjD,W,cC9HGqG,GAAb,WACE,WAAYnN,GAAQ,oBAClBJ,KAAKqB,OAASjB,EAAMiB,OACpBrB,KAAKsB,WAAalB,EAAMkB,WACxBtB,KAAKuB,iBAAmBnB,EAAMmB,iBAC9BvB,KAAKwB,YAAcpB,EAAMoB,YACzBxB,KAAKyB,UAAYrB,EAAMqB,UACvBzB,KAAK0B,KAAOtB,EAAMsB,KAPtB,wDAWI,IAAML,EAASrB,KAAKqB,OAEdmM,EADkBnM,EAAOA,EAAOrD,OAAS,GACR+B,MACjC0N,EAAW,IAAI7N,EAAM4N,GAC3BnM,EAAOqM,OAAOrM,EAAOrD,OAAS,EAAG,EAAGyP,KAfxC,iCAmBI,IAAMpM,EAASrB,KAAKqB,OACpBA,EAAOqM,OAAOrM,EAAOrD,OAAS,EAAG,OApBrC,KCgEM2P,GAAU,SAACC,EAAgBC,EAAgBC,GAC/C,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAe5P,OAAQ+P,IAIzC,IAHA,IAAIC,EAAWJ,EAAeG,GAC1BE,EAASD,EAASE,GAEbC,EAAI,EAAGA,EAAIN,EAAe7P,OAAQmQ,IAAK,CAC9C,IAAIC,EAAWP,EAAeM,GAM1BE,EAAO,CAAEH,GAJJ,KAAOF,EAASE,GAAK,IAAME,EAASF,GAIxBD,OAAQA,EAAQK,OAHxBF,EAASF,GAG+BK,KAF1C,EAAKX,EAAe5P,OAAS6P,EAAe7P,OAAU,KAGjE8P,EAAMjM,KAAKwM,KAKXG,GAAkB,SAACC,GACvB,IADmC,EAC7BpN,EAASoN,EAAQpN,OACnB4G,EAAM,EAFyB,cAGjB5G,GAHiB,IAGnC,2BAA0B,CAAC,IACrBqN,EADoB,QACFC,SAClBD,EAAYzG,IAAKA,EAAMyG,IALM,8BAOnC,OAAOzG,GAGM,SAAS2G,KACtBhO,QAAQC,IAAI,sBADkC,MAEZuD,KAA1B9D,EAFsC,EAEtCA,SAFsC,EAE5BC,YAClBK,QAAQC,IAAI,WAAYP,GACxB,IAnGuBuO,EA8GnBC,EAzFiB,SAACL,EAASM,GAU/B,IATA,IAAM1N,EAASoN,EAAQpN,OAInB2N,GAFeR,GAAgBC,GAEvB,IACRQ,EAAQ,GACRnB,EAAQ,GACRF,EAAiB,GAEZG,EAAI,EAAGA,EAAI1M,EAAOrD,OAAQ+P,IAAK,CAatC,IAZA,IACIW,EADQrN,EAAO0M,GACGhO,MAElBmP,EAAQ,GAAJnB,EAGJoB,EAAO,IAAOT,EAAY,IAE1BU,GAAS,GADOV,EAAY,GAAKS,GACF,EAE/BtB,EAAiB,GAEZM,EAAI,EAAGA,EAAIO,EAAWP,IAAK,CAClC,IAIIkB,EAAO,CAAEH,EAAGA,EAAGI,EAJXF,EAAQjB,EAAIgB,EAIKZ,KAFd,EAE0BL,GAH5BH,EAAI,IAAMI,GAInBc,EAAMpN,KAAKwN,GACXxB,EAAehM,KAAKwN,GAGlBzB,EAAe5P,OAAS,GAE1B2P,GAAQC,EAAgBC,EAAgBC,GAG1CF,EAAiBC,EAKnB,OAFAmB,EAAMC,MAAQA,EACdD,EAAMlB,MAAQA,EACPkB,EA8CCO,CAXC,IAAIhC,GAAcjN,IAa3B,OAhHuBuO,EAgHPC,EA/GhB,kBAAC,KAAD,CACEE,MAAOH,EACPW,MAAO,CACLzI,OAAQ,MACR0I,UAAW,0BAKbC,SAAU,CACRC,YAAa,GACbC,YAAa,GACbC,iBAAkB,UAClBC,OAAO,EACPC,gBAAgB,EAChBC,mBAAmB,K,aCTnBC,GAAS,CACb,CAAEf,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,MAEjBC,GAAS,CACb,CAAEjB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,KACrB,CAAEhB,EAAG,IAAKI,EAAG,IAAKY,EAAG,MAGR,SAASE,KACtB,OACE,kBAAC,KAAD,CACE3J,MAAO,IACPM,OAAQ,IACRsJ,OAAQ,CACN7G,IAAK,GACL8G,MAAO,GACPC,OAAQ,GACR9G,KAAM,KAGR,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAOtI,KAAK,SAASqP,QAAQ,IAAItS,KAAK,UAAUuS,KAAK,OACrD,kBAAC,KAAD,CAAOtP,KAAK,SAASqP,QAAQ,IAAItS,KAAK,SAASuS,KAAK,OACpD,kBAAC,KAAD,CACEtP,KAAK,SACLqP,QAAQ,IACRE,MAAO,CAAC,GAAI,KACZxS,KAAK,QACLuS,KAAK,OAEP,kBAAC,KAAD,CAASE,OAAQ,CAAEC,gBAAiB,SACpC,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAS1S,KAAK,WAAW2Q,KAAMoB,GAAQY,KAAK,UAAUC,MAAM,SAC5D,kBAAC,KAAD,CAAS5S,KAAK,WAAW2Q,KAAMsB,GAAQU,KAAK,UAAUC,MAAM,cChDnD,SAASC,KAEtB,OADkBpM,KAAVvE,MACM7E,OACZ,KAAK1B,EAAOK,kBACV,OAAO,kBAAC0U,GAAD,MACT,KAAK/U,EAAOI,IACV,OAAO,kBAACmW,GAAD,MACT,QACE,OAAO,MCUb,IAAMnK,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvC6K,gBAAiB,CACfvK,MAAO,OACPQ,UAAW,SACXqB,WAAYnC,EAAMkC,QAAQ,GAC1B4B,UAAW,OACXlD,OAAQ,KAEVkK,YAAa,CACXxK,MAAO,OACPM,OAAQ,OACRE,UAAW,SACXqB,WAAYnC,EAAMkC,QAAQ,GAC1BkB,SAAU,YAEZtE,MAAO,CACL4E,SAAU,MACVrB,WAAY,IACZE,WAAY,GAEdwI,UAAW,CACTzK,MAAO,QAET0K,WAAY,CACVpK,OAAQ,QAEVqK,iBAAkB,CAChBrK,OAAQ,0BA4GGsK,OAxGf,WACE,IAAM/J,EAAUrB,KACVsG,ELNC,CAAC,OAAQ,UAAW,QAAS,gBAAiB,aKIxB,EAGD5H,KAApBvE,EAHqB,EAGrBA,MAAOC,EAHc,EAGdA,SA6Bf,OACE,kBAACkH,GAAA,EAAD,CACEG,WAAS,EACTC,UAAU,SACV4D,QAAQ,aACRC,WAAW,SACXhE,UAAWF,EAAQ6J,YAEnB,kBAAC5J,GAAA,EAAD,CAAME,MAAI,EAACD,UAAWF,EAAQ4J,WAC5B,kBAACnI,GAAA,EAAD,CAAMvB,UAAWF,EAAQ0J,iBACvB,kBAAChI,GAAA,EAAD,KACE,kBAACF,GAAA,EAAD,CAAYtB,UAAWF,EAAQrC,MAAO8C,MAAM,WAA5C,kDAMN,kBAACR,GAAA,EAAD,CAAMC,UAAS,UAAKF,EAAQ4J,UAAb,YAA0B5J,EAAQ8J,kBAAoB3J,MAAI,GACvE,kBAACsB,GAAA,EAAD,CAAMvB,UAAWF,EAAQ2J,YAAanJ,QAAQ,YAC5C,kBAACkB,GAAA,EAAD,CAAaxB,UAAWF,EAAQ6J,YAC7B/Q,EAAMrE,gBAAkBlB,EAAaK,UACpC,kBAAC6V,GAAD,MAEA,kBAAClG,GAAD,OAGJ,kBAACyG,GAAA,EAAD,CACE9B,MAAO,CACLjG,SAAU,WACVgH,OAAQ,MACRgB,QAAS,eACT9K,MAAO,OACPgD,KAAM,IAGPlE,GAAcnF,GAAS,EACtB,kBAACwH,GAAA,EAAD,CACEyD,QAjDK,WACjBhL,EAAS,CACPc,KAAMlF,EAAQY,2BAgDJ2K,UAAWF,EAAQJ,OACnBsI,MAAO,CAAEgC,MAAO,QAChBC,UAAW,kBAACC,GAAA,EAAD,OAEVnF,EAAMhH,GAAcnF,GAAS,IAE9B,KACJ,kBAACwH,GAAA,EAAD,CACE+J,SACEvR,EAAMrE,gBAAkBlB,EAAaI,gBACpCuP,GAAWpK,GAAOwR,MAAK,SAAC/L,GAAD,OA3Ef5C,EA2EsC4C,EAAI8E,MA1E/D,CACEvK,EAAM/E,KACN+E,EAAM3E,iBACN2E,EAAMzE,eACNyE,EAAM7E,OAJR,oBAKK6E,EAAMvE,gBACT6J,SAASzC,GAPS,IAACA,KA6EX6E,QAAQ,YACRC,MAAM,UACNsD,QACE9F,GAAcnF,KAAWmM,EAAMvO,OAAS,EA3DjC,WACnBqC,EAAS,CACPc,KAAMlF,EAAQa,yBAdC,WACjBuD,EAAS,CACPc,KAAMlF,EAAQW,uBAyEN4K,UAAWF,EAAQJ,OACnBsI,MAAO,CAAEgC,MAAO,SAChBK,QAAS,kBAACC,GAAA,EAAD,OAERvM,GAAcnF,KAAWmM,EAAMvO,OAAS,EACrC,SACAuO,EAAMhH,GAAcnF,GAAS,SCrJzC2R,GAAgB/P,EAAQ,KAiBxBgQ,GAAY,SAAC5R,GAGjB,IAFA,IAAM6R,EAAK,IAAIF,GACT1Q,EAASjB,EAAMiB,OACZ0M,EAAI,EAAGA,EAAI1M,EAAOrD,OAAQ+P,IAAK,CACtC,IAAM1G,EAAQhG,EAAO0M,GAEjBiE,OAAS,EAEXA,EADQ,IAANjE,EACUmE,GAAe7K,GAClB0G,IAAM1M,EAAOrD,OAAS,EACnBmU,GAAgB9K,EAAOjH,GAEvBgS,GAAgB/K,EAAOjH,GAGrC6R,EAAGI,WAAWL,GAEhB,OAAOC,EAAGK,YAGNJ,GAAiB,SAAC7K,GACtB,IAAMtH,EAAQsH,EAAMtH,MAGpB,MADS,iCAA6BA,EAA7B,SAILqS,GAAkB,SAAC/K,EAAOjH,GAC9B,IAAML,EAAQsH,EAAMtH,MACduB,EAAalB,EAAMkB,WACnBE,EAAcpB,EAAMoB,YAG1B,MADS,0BAAsBzB,EAAtB,yBAA4CuB,EAA5C,kCAAgFE,EAAhF,QAIL2Q,GAAkB,SAAC9K,EAAOjH,GAC9B,IAAML,EAAQsH,EAAMtH,MACduB,EAAalB,EAAMmB,iBACnBC,EAAcpB,EAAMoB,YAG1B,MADS,0BAAsBzB,EAAtB,yBAA4CuB,EAA5C,kCAAgFE,EAAhF,QCnDLuQ,GAAgB/P,EAAQ,KAEjBuQ,GAAU,SAACnS,EAAOE,GAC7B,ICXgCkS,EDW1BP,EAAK,IAAIF,GAIf,OAHAE,EAAGQ,OEVC,+GFaIrS,EAAM7E,OACZ,KAAK1B,EAAOI,IACVgY,EAAGI,WEOC,iCFNJ,MACF,KAAKxY,EAAOK,kBACV+X,EAAGI,WEQC,6FFPJ,MACF,KAAKxY,EAAOC,kBACVmY,EAAGI,WEdC,8FFeJ,MACF,KAAKxY,EAAOG,mBACViY,EAAGI,WEPC,2DFQJ,MACF,KAAKxY,EAAOE,mBACVkY,EAAGI,WEfC,uFF4BR,OARIjS,EAAMvE,cAAc6J,SAASlL,EAAcI,gBAC7CqX,EAAGI,WEEG,2CFAJjS,EAAMvE,cAAc6J,SAASlL,EAAcG,MAC7CsX,EAAGI,WEGG,yCFCAjS,EAAM3E,kBACZ,KAAKpB,EAAgBE,OACnB0X,EAAGI,WEXC,gCFkBR,OAHAJ,EAAGI,aAGKjS,EAAM3E,kBACZ,KAAKpB,EAAgBE,OACnB0X,EAAGI,YCrDyBG,EDqDepS,EAAMzE,eCpD7C,6CAAN,OACuB6W,EADvB,yBDqDE,MACF,KAAKnY,EAAgBC,OACnB2X,EAAGI,WCjDC,oGD6ER,OAxBAJ,EAAGI,aAGHJ,EAAGI,WAAWK,GAAOtS,IAErB6R,EAAGI,aAGHJ,EAAGI,WCtDK,qBDyDJjS,EAAMvE,cAAc6J,SAASlL,EAAcI,gBAC7CqX,EAAGI,WGvEG,gBH2ERJ,EAAGI,WAAWM,GAAUvS,IAGxB6R,EAAGI,WC7DK,gJD+DRJ,EAAGI,aAGKjS,EAAM7E,OACZ,KAAK1B,EAAOI,IACVgY,EAAGI,WI5EI,s5BJ6EP,MACF,KAAKxY,EAAOK,kBACV+X,EAAGI,WDtFY,SAACjS,GACpB,IAAM6R,EAAK,IAAIF,GAWf,OATAE,EAAGI,WAAW,wBACdJ,EAAGQ,OAAOT,GAAU5R,IAEpB6R,EAAGI,WAAH,mCAC8BjS,EAAMqB,UADpC,oBACyDrB,EAAMsB,KAD/D,OAIAuQ,EAAGI,WAAW,0DAEPJ,EAAGK,WC0EQM,CAAkBtS,IAChC,MACF,KAAKzG,EAAOC,kBACVmY,EAAGI,WKlFO,isBLmFV,MACF,KAAKxY,EAAOG,mBACViY,EAAGI,WK5BQ,ghBL6BX,MACF,KAAKxY,EAAOE,mBACVkY,EAAGI,WK1DQ,6jBL8Df,OAAOJ,EAAGK,YAgBNI,GAAS,SAACtS,GACd,GAAIA,EAAMvE,cAAc6J,SAASlL,EAAcG,KAE7C,OGjHqB,SAACkY,GACtB,MAAM,gBAAN,OAAuBA,GHgHhBC,CAhBgB,SAACvX,GAC1B,OAAQA,GACN,KAAK1B,EAAOI,IACV,OAAO,EACT,KAAKJ,EAAOK,kBACV,MAAO,OACT,KAAKL,EAAOG,mBACZ,KAAKH,EAAOE,mBACZ,KAAKF,EAAOC,kBACV,OAAO,GAMUiZ,CAAmB3S,EAAM7E,QAI9C,OAAQ6E,EAAM7E,OACZ,KAAK1B,EAAOI,IACV,MI7HI,eAAN,OJ6HwB,GACxB,KAAKJ,EAAOC,kBACV,MK/HI,oBAAN,OL+H+B,KAI7B6Y,GAAY,SAACvS,GACjB,GAAIA,EAAMvE,cAAc6J,SAASlL,EAAcG,KAC7C,MGjIM,uCHoIR,OAAQyF,EAAM7E,OACZ,KAAK1B,EAAOI,IACV,MItII,eJuIN,KAAKJ,EAAOG,mBACZ,KAAKH,EAAOE,mBACZ,KAAKF,EAAOC,kBACV,MK1II,yCCaKkZ,OAZf,WAA0B,IAChB5S,EAAUuE,KAAVvE,MACAE,EAAa8D,KAAb9D,SAER,OACE,8BACE2C,MAAOsP,GAAQnS,EAAOE,GACtBkP,MAAO,CAAE/I,MAAO,OAAQM,OAAQ,OAAQ8C,SAAU,WCMzCoJ,OAbf,WACE,OACE,kBAAC1L,GAAA,EAAD,CAAMG,WAAS,EAAC8H,MAAO,CAAEzI,OAAQ,SAC/B,kBAACQ,GAAA,EAAD,CAAME,MAAI,EAACD,UAAU,uBACnB,kBAAC,GAAD,OAEF,kBAACD,GAAA,EAAD,CAAME,MAAI,EAACD,UAAU,gCACnB,kBAAC,GAAD,SCcO0L,OApBf,WACE,OACE,oCACE,kBAACC,GAAA,EAAD,CAAK3L,UAAU,mBAAmB4L,GAAI,GACpC,kBAAC,GAAD,OAEF,kBAACD,GAAA,EAAD,CAAK3L,UAAU,uBACb,kBAAC,GAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC2L,GAAA,EAAD,CAAK3L,UAAU,uBAAuB4L,GAAI,GACxC,kBAAC,GAAD,KACE,kBAAC,GAAD,U,OCQKC,OAhBf,WACE,OACE,kBAACC,EAAA,EAAD,CAAW9L,UAAW,SAAU+L,OAAK,GACnC,kBAAC,GAAD,KAIE,kBAACpK,EAAA,EAAD,CAAK3B,UAAW,oBACd,kBAAC,GAAD,OAEF,kBAAC,GAAD,SCVYgM,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,OCXNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACC,GAAD,OAEFjR,SAASkR,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL7T,QAAQ6T,MAAMA,EAAM7W,a,mBEzI5B8W,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.c7e40c74.chunk.js","sourcesContent":["export const Tasks = Object.freeze({\n  CLASSIFICATION: \"Classification\",\n  REGRESSION: \"Regression\",\n  NATURAL_LANGUAGE: \"Natural Language\",\n});\n\nexport const Models = Object.freeze({\n  LINEAR_REGRESSION: \"Linear Regression\",\n  POISSON_REGRESSION: \"Poisson Regression\",\n  ORDINAL_REGRESSION: \"Ordinal Regression\",\n  KNN: \"K-Nearest Neighbors\",\n  NEURAL_NETWORK_FF: \"Feedforward Neural Network\",\n  SENTIMENT_ANALYSIS: \"Sentiment Analysis\",\n  ENTITY_RECOGNITION: \"Entity Recognition\",\n});\n\nexport const TaskToModelsMap = (task: TasksType) => {\n  let validModels;\n  switch (task) {\n    case Tasks.CLASSIFICATION:\n      validModels = (({ KNN, NEURAL_NETWORK_FF }) => ({\n        KNN,\n        NEURAL_NETWORK_FF,\n      }))(Models);\n      return validModels;\n    case Tasks.REGRESSION:\n      validModels = (({\n        LINEAR_REGRESSION,\n        POISSON_REGRESSION,\n        ORDINAL_REGRESSION,\n      }) => ({\n        LINEAR_REGRESSION,\n        POISSON_REGRESSION,\n        ORDINAL_REGRESSION,\n      }))(Models);\n      return validModels;\n    case Tasks.NATURAL_LANGUAGE:\n      validModels = (({ SENTIMENT_ANALYSIS, ENTITY_RECOGNITION }) => ({\n        SENTIMENT_ANALYSIS,\n        ENTITY_RECOGNITION,\n      }))(Models);\n      return validModels;\n    default:\n      return [];\n  }\n};\n\nexport const DatasetCategory = Object.freeze({\n  CUSTOM: \"Custom\",\n  SAMPLE: \"Sample\",\n});\n\nexport const SampleDataset = Object.freeze({\n  IRIS: \"iris\",\n  BOSTON: \"boston\",\n});\n\nexport const Preprocessors = Object.freeze({\n  PCA: \"PCA\",\n  NORMALIZATION: \"Normalization\",\n});\n\nexport const StepperState = Object.freeze({\n  TASK: \"task\",\n  DATASET: \"dataset\",\n  MODEL: \"model\",\n  PREPROCESSORS: \"preprocessors\",\n  VISUALIZE: \"visualize\",\n});\n\nexport const StepperStateOrder = [\n  StepperState.TASK,\n  StepperState.DATASET,\n  StepperState.MODEL,\n  StepperState.PREPROCESSORS,\n  StepperState.VISUALIZE,\n];\n\nexport type TasksType = \"Classification\" | \"Regression\" | \"Natural Language\";\n\nexport type ModelsType =\n  | \"Linear Regression\"\n  | \"Poisson Regression\"\n  | \"Ordinal Regression\"\n  | \"K-Nearest Neighbors\"\n  | \"Feedforward Neural Network\"\n  | \"Sentiment Analysis\"\n  | \"Entity Recognition\";\n\nexport type DatasetCategoryType = \"Custom\" | \"Sample\";\n\nexport type SampleDatasetType = \"iris | boston\";\n\nexport type PreprocessorsType = \"PCA\" | \"Normalization\";\n\nexport type StepperStateType =\n  | \"task\"\n  | \"dataset\"\n  | \"model\"\n  | \"preprocessors\"\n  | \"visualize\";\n\nexport type StateType = {\n  task: ?TasksType,\n  task_otto: ?TasksType,\n  model: ?ModelsType,\n  model_otto: ?ModelsType,\n  dataset_category: ?DatasetCategoryType,\n  dataset_category_otto: ?DatasetCategoryType,\n  sample_dataset: ?SampleDatasetType,\n  sample_dataset_otto: ?SampleDatasetType,\n  preprocessors: Array<PreprocessorsType>,\n  preprocessors_otto: Array<PreprocessorsType>,\n\n  stepper_state: StepperStateType,\n  stepper_finish: Boolean,\n};\n\nexport const InitialState: () => StateType = () => ({\n  task: Tasks.CLASSIFICATION,\n  task_otto: null,\n  model: Models.NEURAL_NETWORK_FF,\n  model_otto: null,\n  dataset_category: DatasetCategory.CUSTOM,\n  dataset_category_otto: null,\n  sample_dataset: null,\n  sample_dataset_otto: null,\n  preprocessors: [],\n  preprocessors_otto: [],\n\n  stepper_state: StepperState.VISUALIZE,\n  stepper_finish: false,\n});\n","import {\n  TasksType,\n  ModelsType,\n  DatasetCategoryType,\n  SampleDatasetType,\n  PreprocessorsType,\n} from \"state/StateTypes\";\n\nexport const Actions = Object.freeze({\n  SET_TASK: \"SET_TASK\",\n  SET_MODEL: \"SET_MODEL\",\n  SET_DATASET_CATEGORY: \"SET_DATASET_CATEGORY\",\n  SET_SAMPLE_DATASET: \"SET_SAMPLE_DATASET\",\n  SET_TASK_OTTO: \"SET_TASK_OTTO\",\n  SET_MODEL_OTTO: \"SET_MODEL_OTTO\",\n  SET_DATASET_CATEGORY_OTTO: \"SET_DATASET_CATEGORY_OTTO\",\n  SET_SAMPLE_DATASET_OTTO: \"SET_SAMPLE_DATASET_OTTO\",\n  TOGGLE_PREPROCESSOR: \"TOGGLE_PREPROCESSOR\",\n  TOGGLE_PREPROCESSOR_OTTO: \"TOGGLE_PREPROCESSOR_OTTO\",\n  STEPPER_HANDLE_NEXT: \"STEPPER_HANDLE_NEXT\",\n  STEPPER_HANDLE_PREVIOUS: \"STEPPER_HANDLE_PREVIOUS\",\n  HANDLE_STEPPER_FINISH: \"HANDLE_STEPPER_FINISH\",\n  HANDLE_RESET: \"HANDLE_RESET\",\n});\n\nexport type ActionType =\n  | { type: \"SET_TASK\", task: TasksType }\n  | { type: \"SET_MODEL\", model: ModelsType }\n  | { type: \"SET_DATASET_CATEGORY\", dataset_category: DatasetCategoryType }\n  | { type: \"SET_SAMPLE_DATASET\", sample_dataset: SampleDatasetType }\n  | { type: \"SET_TASK_OTTO\", task: TasksType }\n  | { type: \"SET_MODEL_OTTO\", model: ModelsType }\n  | {\n      type: \"SET_DATASET_CATEGORY_OTTO\",\n      dataset_category: DatasetCategoryType,\n    }\n  | { type: \"SET_SAMPLE_DATASET_OTTO\", sample_dataset: SampleDatasetType }\n  | { type: \"TOGGLE_PREPROCESSOR\", preprocessor: PreprocessorsType }\n  | { type: \"TOGGLE_PREPROCESSOR_OTTO\", preprocessor: PreprocessorsType }\n  | { type: \"STEPPER_HANDLE_NEXT\" }\n  | { type: \"STEPPER_HANDLE_PREVIOUS\" }\n  | { type: \"HANDLE_STEPPER_FINISH\" }\n  | { type: \"HANDLE_RESET\" };\n","export const IntroQuestion = () => {\n    return [\n        \"Hey there!\",\n        \"What would you like to do today?\"\n    ];\n}\n\n// export const SampleData = (topic) => {\n//     return `We have some sample data for ${topic} if you'd like to use that`;\n// }\n\nexport const TaskRecommendation = (task) => {\n    return [\n        `Sounds cool!`,\n        `I'd recommend a ${task} model to help you explore that idea`\n    ];\n}\n\n// export const TaskAndSample = (task) => {\n//     return [\n//         `I think a ${task} model would help you explore that idea`,\n//         \"Check out a few sample datasets if you'd like, or leave it blank to use your own\"\n//     ]\n// }\n\nexport const TaskInfo = () => {\n    return [\n        \"Here are some pointers to help you figure out what type of machine learning task to select\",\n        \"Regression is used to model numerical variables, such as stock prices or infection rates, while classification predicts categorical outcomes, like whether an image is a cat or a dog or if a candidate will win or not\", \n        \"Natural language processing can do things like identify structures in text and figure out the tone behind an expression\",\n        \"Whenever you’re ready, pick the task that seems like the best fit\"\n    ];\n}\n\nexport const ModelPreface = () => {\n    return [\n        \"Now that we have our machine learning task and dataset figured out, the next step is to select an appropriate model\",\n    ];\n}\n\nexport const NLPModelInfo = () => {\n    return [\n        \"Entity recognition is useful for extracting key information from text (like phone numbers, album names, and times)\",\n        \"While sentiment analysis classifies expressions by their polarity (positive, negative, or neutral)\",\n    ]\n}\n\nexport const RegressionModelQuestion = () => {\n    return [\n        \"Could you describe the dependent variable in more detail?\"\n    ]\n}\n\nexport const ClassificationModelQuestion = () => {\n    return [\n        \"Could you describe the dataset in more detail?\"\n    ]\n}\n\nexport const ModelRecommendation = (model) => {\n    return [\n        `In that case, I think a ${model} model would be perfect`\n    ]\n}\n\nexport const PreprocessorRecommendation = () => {\n    return [\n        \"Based on what you've told me, I've gone ahead and setup some data preprocessors to help optimize the learning process\"\n    ]\n}\n\nexport const NeuralNetworkPreface = () => {\n    return [\n        \"Finally, we're ready to build and configure our neural network!\",\n        \"I've made a basic feedforward network with 5 hidden layers and standard activations / initializers\",\n        \"You can play with the model and customize it, or tell me what changes to make\"\n    ]\n}\n\n","import { Tasks, Models } from \"state/StateTypes\"\n\n// TODO: refactor elsewhere?\n\nconst intentToTask = {\n    task_reg: Tasks.REGRESSION,\n    task_class: Tasks.CLASSIFICATION,\n    task_nlp: Tasks.NATURAL_LANGUAGE,\n}\n\nconst regressionEntityToModel = {\n    \"poisson:poisson\": Models.POISSON_REGRESSION,\n    \"ordinal:ordinal\": Models.ORDINAL_REGRESSION,\n}\n\nconst classificationEntityToModel = {\n    \"knn:knn\": Models.KNN,\n}\n\n// const regressionModelToKeywords = {\n//     [Models.POISSON_REGRESSION]: [\"count\", \"number\", \"event\", \"occurrence\"],\n//     [Models.ORDINAL_REGRESSION]: [\"rank\", \"order\"],\n// }; \n\n// const classificationModelToKeywords = {\n//     [Models.KNN]: [\"few\", \"small\", \"simple\", \"tiny\"]\n// } \n\n\n\nexport const getWitResult = async (wit, utterance) => {\n    return await wit.message(utterance);\n}\n\nexport const extractSampleDataset = (statement) => {\n    let sampleDataset = null;\n    let matchedKeywords = null;\n    let matchedTask = null;\n    let matchedModel = null;\n    return [matchedTask, matchedModel, sampleDataset, matchedKeywords];\n} \n\nexport const extractTask = (witResponse) => { // TODO: threshold\n    let intents = witResponse.intents;\n    let task = null;\n    if (intents.length > 0) {\n        let topIntent = intents[0];\n        let topIntentName = topIntent.name;\n        task = intentToTask[topIntentName];\n    }\n    return task;\n}\n\nexport const extractSubject = (witResponse) => {\n    let entities = witResponse.entities;\n    let subject = null;\n    if (\"subject:subject\" in entities) {\n      let subjectArray = entities[\"subject:subject\"];\n      let subjectObject = subjectArray[0];\n      subject = subjectObject[\"body\"];\n    }\n    return subject;\n}\n\nexport const extractRegressionModel = async (statement, wit) => {\n    const witResponse = await getWitResult(wit, statement);\n    let entities = Object.keys(witResponse.entities); // note that this counts matches equally\n    let models = entities.map(entity => regressionEntityToModel[entity]);\n    if (models.length == 0) {\n        return Models.LINEAR_REGRESSION;\n    }\n    return models[0]; // returns first match\n\n    // let regressionModel = null;\n    // const kvp = Object.entries(regressionModelToKeywords);\n    // for (const [model, keywords] of kvp) {\n    //     for (const keyword of keywords) {\n    //         if (statement.includes(keyword)) {\n    //             regressionModel = model;\n    //         }\n    //     }\n    // }\n    // return regressionModel;\n}\n\nexport const extractClassificationModel = async (statement, wit) => {\n    const witResponse = await getWitResult(wit, statement);\n    let entities = Object.keys(witResponse.entities); // note that this counts matches equally\n    let models = entities.map(entity => classificationEntityToModel[entity]);\n    if (models.length == 0) {\n        return Models.NEURAL_NETWORK_FF;\n    }\n    return models[0]; // returns first match\n    \n    // let classificationModel = null;\n    // const kvp = Object.entries(classificationModelToKeywords);\n    // for (const [model, keywords] of kvp) {\n    //     for (const keyword of keywords) {\n    //         if (statement.includes(keyword)) {\n    //             classificationModel = model;\n    //         }\n    //     }\n    // }\n    // return classificationModel;\n}\n\nexport const extractArchitectureChange = (witResponse) => {\n    // let architectureChange = {};\n    // const intent = witResponse.intent;\n    // architectureChange.intent = intent;\n}\n\n// const getOrDefault = (obj, key, defaultValue) => {\n\n// }","export const Optimizers = Object.freeze({\n    ADAM: \"adam\",\n});\n\nexport const Losses = Object.freeze({\n    BINARY_CLASS: \"binary_crossentropy\",\n    MULTI_CLASS: \"categorical_crossentropy\",\n});\n\nexport const Activations = Object.freeze({\n    RELU: \"relu\",\n    SIGMOID: \"sigmoid\",\n    TANH: \"tanh\",\n    SOFTMAX: \"softmax\",\n});\n\nexport const Initializers = Object.freeze({\n    GLOROT: \"glorot_uniform\",\n    RANDOM: \"random_uniform\",\n    HE: \"he_uniform\",\n    LECUN: \"lecun_uniform\",\n});\n\nexport const Layers = Object.freeze({\n    INPUT: \"Input\",\n    DENSE: \"Dense\"\n});","export class Layer {\n\n    constructor(units) {\n        this.units = units;\n    }\n\n}","import { Actions } from \"state/Actions\";\nimport { StepperState, DatasetCategory, SampleDataset, Tasks, Models } from \"state/StateTypes\";\nimport * as msgs from \"conversation/msgs\";\nimport { \n    getWitResult, \n    extractTask, \n    extractSubject, \n    extractSampleDataset, \n    extractRegressionModel, \n    extractClassificationModel \n} from \"conversation/ConversationUtils\";\nimport {\n    Optimizers,\n    Losses,\n    Activations,\n    Initializers,\n  } from \"nn-architecture/hyperparams\";\nimport { Layer } from \"nn-architecture/Layer\";\n\nexport const responseToMessage = async (userMessage, wits, state, dispatch, nn_state, nn_dispatch) => {\n    \n    switch (state.stepper_state) {\n        case StepperState.TASK:\n            return await taskStep(userMessage, wits.task, state, dispatch);\n        // case StepperState.DATASET:\n        //     return dataStep(userMessage, wit, state, dispatch);\n        case StepperState.MODEL:\n            return modelStep(userMessage, wits.model, state, dispatch);\n        case StepperState.VISUALIZE:\n            if (state.model === Models.NEURAL_NETWORK_FF) {\n                return architectureStep(userMessage, wits.nn, nn_state, nn_dispatch);\n            }\n    }\n\n}\n\nconst taskStep = async (userMessage, wit, state, dispatch) => {\n    console.log(\"taskStep\");\n\n    // get the wit result\n    const witResult = await getWitResult(wit, userMessage);\n    console.log(witResult);\n\n    // extract the subject or null\n    const subject = extractSubject(witResult);\n    console.log(subject);\n\n    // extract the sample dataset or null\n    const effectiveSubject = subject ? subject : userMessage;\n    const [taskForSampleDataset, modelForSampleDataset, sampleDataset, matchedKeywords] = extractSampleDataset(\n        effectiveSubject\n    );\n    console.log(taskForSampleDataset);\n    console.log(sampleDataset);\n    console.log(matchedKeywords);\n\n    // define the task or null\n    const task = taskForSampleDataset ? taskForSampleDataset : extractTask(witResult);\n    console.log(task);\n    if (sampleDataset) {\n        // update dataset type\n        dispatch({\n            type: Actions.SET_DATASET_CATEGORY,\n            dataset_category: DatasetCategory.SAMPLE,\n        });\n        dispatch({\n            type: Actions.SET_DATASET_CATEGORY_OTTO,\n            dataset_category: DatasetCategory.SAMPLE,\n        });\n        // update sample dataset\n        dispatch({\n            type: Actions.SET_SAMPLE_DATASET,\n            sample_dataset: sampleDataset,\n        });\n        dispatch({\n            type: Actions.SET_SAMPLE_DATASET_OTTO,\n            sample_dataset: sampleDataset,\n        });\n        // update model\n        dispatch({\n            type: Actions.SET_MODEL,\n            model: modelForSampleDataset,\n        });\n        dispatch({\n            type: Actions.SET_MODEL_OTTO,\n            model: modelForSampleDataset,\n        });\n    }\n\n    if (task) {\n        // update task state\n        dispatch({\n            type: Actions.SET_TASK,\n            task: task,\n        });\n        dispatch({\n            type: Actions.SET_TASK_OTTO,\n            task: task,\n        });\n\n        return msgs.TaskRecommendation(task);\n    }\n\n    return msgs.TaskInfo();\n\n}\n\nconst modelStep = async (userMessage, wit, state, dispatch) => {\n    console.log(\"modelStep\");\n\n    const task = state.task;\n    let model = state.model;\n\n    console.log(\"Task: \\n\", task);\n    console.log(\"Model: \\n\", model);\n\n    // model not predefined (custom dataset)\n    if (!model) {\n        switch (task) {\n            case Tasks.REGRESSION:\n                model = await extractRegressionModel(userMessage, wit);\n                break;\n            case Tasks.CLASSIFICATION:\n                model = await extractClassificationModel(userMessage, wit) ||\n                    Models.NEURAL_NETWORK_FF;\n                break;\n        }\n\n        dispatch({\n            type: Actions.SET_MODEL,\n            model: model,\n        });\n        dispatch({\n            type: Actions.SET_MODEL_OTTO,\n            model: model,\n        });\n\n    }\n\n    return msgs.ModelRecommendation(model);\n\n}\n\nconst architectureStep = async (userMessage, wit, nn_state, nn_dispatch) => {\n\n    //const witResult = await getWitResult(wit, userMessage); \n    console.log(\"Architecture step: \", nn_state);\n    nn_dispatch({\n        layers: [\n          new Layer(3),\n        ],\n        activation: Activations.RELU,\n        outputActivation: Activations.SOFTMAX,\n        initializer: Initializers.GLOROT,\n        optimizer: Optimizers.ADAM,\n        loss: Losses.BINARY_CLASS,\n      });\n\n    // if (witResult.text.length == 4) {\n    //     return \n    // }\n\n    //return JSON.stringify(witResult);\n\n    // convert witresult to architecture change\n    // relay change to architecture\n\n}","import { StepperState, Tasks, Models } from \"state/StateTypes\";\nimport * as msgs from \"conversation/msgs\"\n\nexport const responseToState = (state) => {\n    switch (state.stepper_state) {\n        // case StepperState.TASK:\n        //     return taskStep(userMessage, wits.task, state, dispatch);\n        case StepperState.DATASET:\n            return dataStep(state);\n        case StepperState.MODEL:\n            return modelStep(state);\n        case StepperState.PREPROCESSORS:\n            return preprocessorsStep(state);\n        case StepperState.VISUALIZE:\n            return visualizeStep(state);\n    }      \n}\n\nconst dataStep = (state) => {\n\n}\n\nconst modelStep = (state) => {\n    const responses = [];\n    responses.push(msgs.ModelPreface());\n    switch (state.task) {\n        case Tasks.CLASSIFICATION:\n            responses.push(msgs.ClassificationModelQuestion());\n            break;\n        case Tasks.REGRESSION:\n            responses.push(msgs.RegressionModelQuestion());\n            break;\n        case Tasks.NATURAL_LANGUAGE:\n            responses.push(msgs.NLPModelInfo());\n            break;\n    }\n    return responses;\n}\n\nconst preprocessorsStep = (state) => {\n    return msgs.PreprocessorRecommendation();\n}\n\nconst visualizeStep = (state) => {\n    if (state.model === Models.NEURAL_NETWORK_FF) {\n        return msgs.NeuralNetworkPreface();\n    }\n}","import {responseToMessage} from \"conversation/RespondMessage\";\nimport {responseToState} from \"conversation/RespondState\";\nconst { Wit, log } = require(\"node-wit\");\nconst token = require(\"TOKEN.json\");\n\nexport default class Conversation /* extends React.Component */  {\n\n    constructor(say) {\n        // super();\n        this.say = say;\n        this.ottoTask = new Wit({\n            accessToken: token.task_tester,\n        });\n        this.ottoModel = new Wit({\n            accessToken: token.model,\n        });\n        this.ottoNN = new Wit({\n            accessToken: token.nn,\n        });\n        this.wits = {\n            task: this.ottoTask,\n            model: this.ottoModel,\n            nn: this.ottoNN,\n        };\n    }\n\n    sayMessages = async (messages) => {\n        if (!Array.isArray(messages)) {\n            messages = [messages];\n        }\n        messages = messages.flat(1);\n        for (let message of messages) {\n            if (message != null) {\n                await new Promise((r) => setTimeout(r, writeDelay(message)));\n                this.say(message);\n            }\n        }\n    };\n    \n    handleUserMessage = async (userMessage, state, dispatch, nn_state, nn_dispatch) => {\n        document.getElementsByClassName(\"rcw-sender\")[0].message.value = \"\";\n        console.log(`handleUserMessage in Conversation: ${userMessage}`);\n        console.log(\"State: \", state);\n\n        // const [state, dispatch] = null;\n        await this.sayMessages(\n            await responseToMessage(userMessage, this.wits, state, dispatch, nn_state, nn_dispatch)\n        ); \n    };\n\n    handleStateAdvance = (state) => {\n        console.log(`State has been advanced!`);\n        console.log(\"State: \", state);\n\n        this.sayMessages(\n            responseToState(state)\n        );\n    };\n\n    render() {\n        return null;\n    }\n\n}\n\nfunction writeDelay(msg) {\n    const WPM = 300;\n    const length = msg.length;\n    const timeRead = (length / 3.5 / WPM) * 60 * 1000;\n    //return timeRead < 2500 ? timeRead : 2500;\n    return 100; // FIXME: revert\n}","import React from \"react\";\nimport { useReducer, createContext, useContext } from \"react\";\n\nimport {\n  Optimizers,\n  Losses,\n  Activations,\n  Initializers,\n} from \"nn-architecture/hyperparams\";\nimport { Layer } from \"nn-architecture/Layer\";\nimport { ActionType, Actions } from \"state/Actions\";\n\nconst InitialState = () => ({\n  layers: [\n    new Layer(3),\n    new Layer(5),\n    new Layer(5),\n    new Layer(5),\n    new Layer(5),\n    new Layer(2),\n  ],\n  activation: Activations.RELU,\n  outputActivation: Activations.SOFTMAX,\n  initializer: Initializers.GLOROT,\n  optimizer: Optimizers.ADAM,\n  loss: Losses.BINARY_CLASS,\n});\n\nconst initialState = InitialState();\nconst NNStateContext = createContext(initialState);\nconst DispatchNNStateContext = createContext(() => null);\n\nfunction reducer(state, action: ActionType) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n}\n\nexport const NNStateProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <NNStateContext.Provider value={state}>\n      <DispatchNNStateContext.Provider value={dispatch}>\n        {children}\n      </DispatchNNStateContext.Provider>\n    </NNStateContext.Provider>\n  );\n};\n\nexport const useNNState = () => ({\n  nn_state: useContext(NNStateContext),\n  nn_dispatch: useContext(DispatchNNStateContext),\n});\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"state/State\";\n\nimport {\n  Widget,\n  toggleWidget,\n  addResponseMessage,\n  deleteMessages,\n} from \"react-chat-widget\";\nimport logo from \"logo.svg\";\n\nimport * as msgs from \"conversation/msgs\";\nimport Conversation from \"conversation/Conversation\";\nimport { useNNState } from \"state/NNState\";\n\nconst convo = new Conversation(addResponseMessage);\n\nexport function initializeWidget() {\n  deleteMessages();\n  convo.sayMessages(msgs.IntroQuestion());\n}\n\nexport const handleNext = (state) => {\n  convo.handleStateAdvance(state);\n}\n\nfunction WidgetContainer() {\n  const { state, dispatch } = useState();\n  const { nn_state, nn_dispatch } = useNNState();\n\n  useEffect(() => {\n    toggleWidget();\n    initializeWidget();\n  }, []);\n\n  const handleSubmit = (userMessage) => {\n    convo.handleUserMessage(userMessage, state, dispatch, nn_state, nn_dispatch);\n  };\n\n  // async function performResponse(userMessage) {\n  //   const responses = await convo.respondTo(userMessage);\n  //   await new Promise((r) => setTimeout(r, readWriteDelay(userMessage)));\n  //   for (const i in responses) {\n  //     const response = responses[i];\n  //     await new Promise((r) => setTimeout(r, readWriteDelay(response)));\n  //     addResponseMessage(response);\n  //   }\n  // }\n\n  return (\n    <Widget\n      handleSubmit={handleSubmit}\n      launcher={() => null}\n      subtitle=\"\"\n      title=\"Otto\"\n      titleAvatar={logo}\n    />\n  );\n}\n\nexport default WidgetContainer;\n","import React from \"react\";\nimport { useReducer, createContext, useContext } from \"react\";\n\nimport { deleteMessages, addResponseMessage } from \"react-chat-widget\";\nimport { InitialState, StateType } from \"state/StateTypes\";\nimport { ActionType, Actions } from \"state/Actions\";\nimport { StepperStateOrder } from \"state/StateTypes\";\nimport { handleNext } from \"containers/WidgetContainer\";\n\nimport { initializeWidget } from \"containers/WidgetContainer\";\n\n// See https://www.basefactor.com/global-state-with-react for details\nconst initialState = InitialState();\n\nexport const StateContext = createContext(initialState);\nexport const DispatchStateContext = createContext(() => null);\nconst NumSteps = StepperStateOrder.length;\n\nfunction reducer(state: StateType, action: ActionType): StateType {\n  const getActiveStep = () => {\n    return StepperStateOrder.indexOf(state.stepper_state);\n  };\n\n  switch (action.type) {\n    case Actions.SET_TASK:\n      return { ...state, task: action.task };\n    case Actions.SET_DATASET_CATEGORY:\n      return { ...state, dataset_category: action.dataset_category };\n    case Actions.SET_MODEL:\n      return { ...state, model: action.model };\n    case Actions.SET_SAMPLE_DATASET:\n      return { ...state, sample_dataset: action.sample_dataset };\n    case Actions.SET_TASK_OTTO:\n      return { ...state, task_otto: action.task };\n    case Actions.SET_DATASET_CATEGORY_OTTO:\n      return { ...state, dataset_category_otto: action.dataset_category };\n    case Actions.SET_MODEL_OTTO:\n      return { ...state, model_otto: action.model };\n    case Actions.SET_SAMPLE_DATASET_OTTO:\n      return { ...state, sample_dataset_otto: action.sample_dataset };\n    case Actions.TOGGLE_PREPROCESSOR: {\n      let currentPreprocessors = state.preprocessors;\n      if (currentPreprocessors.includes(action.preprocessor)) {\n        currentPreprocessors = currentPreprocessors.filter(\n          (val) => val !== action.preprocessor\n        );\n      } else {\n        currentPreprocessors.push(action.preprocessor);\n      }\n      return {\n        ...state,\n        preprocessors: currentPreprocessors,\n      };\n    }\n    case Actions.TOGGLE_PREPROCESSOR_OTTO: {\n      let currentPreprocessors = state.preprocessors_otto;\n      if (currentPreprocessors.includes(action.preprocessor)) {\n        currentPreprocessors = currentPreprocessors.filter(\n          (val) => val !== action.preprocessor\n        );\n      } else {\n        currentPreprocessors = currentPreprocessors.push(action.preprocessor);\n      }\n      return {\n        ...state,\n        preprocessors_otto: currentPreprocessors,\n      };\n    }\n    case Actions.STEPPER_HANDLE_NEXT:\n      const nextState = {\n        ...state,\n        stepper_state:\n          NumSteps === getActiveStep()\n            ? NumSteps\n            : StepperStateOrder[getActiveStep() + 1],\n      };\n      handleNext(nextState);\n      return nextState;\n    case Actions.STEPPER_HANDLE_PREVIOUS:\n      const prevState = {\n        ...state,\n        stepper_state:\n          StepperStateOrder[StepperStateOrder.indexOf(state.stepper_state) - 1],\n        stepper_finish: false,\n      };\n      return prevState;\n    case Actions.HANDLE_STEPPER_FINISH:\n      return {\n        ...state,\n        stepper_finish: true,\n      };\n    case Actions.HANDLE_RESET:\n      initializeWidget();\n      return InitialState();\n    default:\n      return state;\n  }\n}\n\nexport const StateProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchStateContext.Provider value={dispatch}>\n        {children}\n      </DispatchStateContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport const useState = () => ({\n  state: useContext(StateContext),\n  dispatch: useContext(DispatchStateContext),\n});\n","import React from \"react\";\nimport { useEffect } from \"react\";\n\nimport { Layer } from \"nn-architecture/Layer\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Tabs,\n  Tab,\n  Box,\n  AppBar,\n  useTheme,\n  Grid,\n  Button,\n} from \"@material-ui/core\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport NumericInput from \"react-numeric-input\";\nimport { useState } from \"state/State\";\nimport { StepperState, StateType, Models } from \"state/StateTypes\";\nimport { useNNState } from \"state/NNState\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: \"100%\",\n  },\n  tab: {\n    outline: \"none !important\",\n    // minWidth: \"33%\",\n  },\n  layerInputItem: {\n    marginBottom: 8,\n  },\n  layerInput: {\n    width: 60,\n    height: 36,\n    borderRadius: \"4px !important\",\n    textAlign: \"center\",\n  },\n  button: {\n    minWidth: \"32px !important\",\n    width: 36,\n    outline: \"none\",\n  },\n}));\n\nconst tabLabels = [\"Build\", \"Learn\", \"Train\"];\n\nfunction LayerOption({ layer }) {\n  const classes = useStyles();\n  return (\n    <Grid className={classes.layerInputItem} item>\n      <Grid container direction=\"row\">\n        <Grid item>\n          <Button\n            className={classes.button}\n            disableElevation\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            <RemoveIcon />\n          </Button>\n        </Grid>\n        <Grid item>\n          <NumericInput\n            className={classes.layerInput}\n            min={1}\n            max={10}\n            value={layer.units}\n          />\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default function NNFFToolbox() {\n  const classes = useStyles();\n  const { state, dispatch } = useState();\n  const { nn_state, nn_dispatch } = useNNState();\n  return (\n    <div className={classes.root}>\n      Build\n      <Grid container direction=\"column\">\n        {nn_state.layers.map((layer) => (\n          <LayerOption layer={layer} />\n        ))}\n        <LayerOption layer={{ units: 0 }} />\n      </Grid>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Card, CardContent, Grow } from \"@material-ui/core\";\nimport { useState } from \"state/State\";\nimport { StepperState, StateType, Models } from \"state/StateTypes\";\nimport NNFFToolbox from \"components/toolbox/NNFFToolbox\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"80%\",\n    // marginLeft: 110,\n  },\n  headerText: {\n    paddingLeft: theme.spacing(0),\n    paddingTop: theme.spacing(7),\n    paddingBottom: theme.spacing(1),\n    fontWeight: \"600\",\n  },\n  card: {\n    marginTop: \"4px\",\n    height: \"100%\",\n  },\n}));\n\nconst getToolboxContent = (state: StateType) => {\n  switch (state.model) {\n    case Models.LINEAR_REGRESSION:\n      return <div>TODO</div>;\n    case Models.NEURAL_NETWORK_FF:\n      return <NNFFToolbox />;\n    default:\n      return <div>Same</div>;\n  }\n};\n\nexport default function ToolboxContainer() {\n  const classes = useStyles();\n  const { state, dispatch } = useState();\n  return (\n    <Grow in={state.stepper_state === StepperState.VISUALIZE}>\n      <div className={classes.root}>\n        <Typography className={classes.headerText} variant=\"h5\">\n          Toolbox\n        </Typography>\n        <Card className={classes.card} variant=\"outlined\">\n          <CardContent>{getToolboxContent(state)}</CardContent>\n        </Card>\n      </div>\n    </Grow>\n  );\n}\n","import React from \"react\";\nimport \"App.css\";\nimport { Row } from \"react-bootstrap\";\nimport ToolboxContainer from \"containers/ToolboxContainer.react\";\n\nfunction RightColumnContainer() {\n  return (\n    <>\n      <Row className=\"toolboxContainer\">\n        <ToolboxContainer />\n      </Row>\n    </>\n  );\n}\n\nexport default RightColumnContainer;\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport { Grid, Avatar, Badge, Tooltip, Typography } from \"@material-ui/core\";\n\nimport { invoke } from \"js-ml/knn\";\n\nimport {\n  StepperStateType,\n  StepperState,\n  Tasks,\n  Models,\n  DatasetCategory,\n  TaskToModelsMap,\n  StateType,\n  Preprocessors,\n} from \"state/StateTypes\";\nimport { useState } from \"state/State\";\nimport { Actions } from \"state/Actions\";\nimport logo from \"logo.svg\";\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    width: 10,\n    \"&::after\": {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      borderRadius: \"50%\",\n      content: '\"\"',\n    },\n  },\n}))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  titleInner: {\n    fontSize: 42,\n    fontWeight: 300,\n    marginTop: 8,\n  },\n  subtitle: {\n    marginTop: 20,\n    marginBottom: 72,\n    fontWeight: 300,\n  },\n  large: {\n    width: theme.spacing(14),\n    height: theme.spacing(14),\n  },\n  avatarItem: {\n    textAlign: \"-webkit-center\",\n    width: 188,\n  },\n  avatarItemSelected: {\n    width: theme.spacing(14),\n    height: theme.spacing(14),\n    boxShadow:\n      \"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 0px 6px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)\",\n    border: \"solid 1px #3f51b5\",\n  },\n  avatarLabel: {\n    marginTop: 20,\n  },\n  avatarLabelSelected: {\n    marginTop: 20,\n    fontWeight: 500,\n  },\n  recommend: {\n    width: 30,\n  },\n  button: {\n    marginBottom: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nexport function getOptions(state: StateType) {\n  const options = [];\n  const stepperState = state.stepper_state;\n  switch (stepperState) {\n    case StepperState.TASK:\n      Object.keys(Tasks).map((key) =>\n        options.push({\n          label: Tasks[key],\n          type: StepperState.TASK,\n        })\n      );\n      return options;\n    case StepperState.DATASET:\n      Object.keys(DatasetCategory).map((key) =>\n        options.push({\n          label: DatasetCategory[key],\n          type: StepperState.DATASET,\n        })\n      );\n      return options;\n    case StepperState.MODEL:\n      Object.keys(TaskToModelsMap(state.task)).map((key) =>\n        options.push({\n          label: Models[key],\n          type: StepperState.MODEL,\n        })\n      );\n      return options;\n    case StepperState.PREPROCESSORS:\n      Object.keys(Preprocessors).map((key) =>\n        options.push({\n          label: Preprocessors[key],\n          type: StepperState.PREPROCESSORS,\n        })\n      );\n      return options;\n    default:\n      return options;\n  }\n}\n\nexport default function VisualizerOptionSelectionGrid() {\n  const classes = useStyles();\n  const { state, dispatch } = useState();\n\n  const getIsRecommended = (value) =>\n    [\n      state.task_otto,\n      state.dataset_category_otto,\n      state.sample_dataset_otto,\n      state.model_otto,\n      ...state.preprocessors_otto,\n    ].includes(value);\n\n  const getIsSelected = (value) =>\n    [\n      state.task,\n      state.dataset_category,\n      state.sample_dataset,\n      state.model,\n      ...state.preprocessors,\n    ].includes(value);\n\n  const optionOnClickHandler = (type: StepperStateType, value) => {\n    switch (type) {\n      case StepperState.TASK:\n        dispatch({\n          type: Actions.SET_TASK,\n          task: value,\n        });\n        break;\n      case StepperState.DATASET:\n        dispatch({\n          type: Actions.SET_DATASET_CATEGORY,\n          dataset_category: value,\n        });\n        break;\n      case StepperState.MODEL:\n        dispatch({\n          type: Actions.SET_MODEL,\n          model: value,\n        });\n        break;\n      case StepperState.PREPROCESSORS:\n        dispatch({\n          type: Actions.TOGGLE_PREPROCESSOR,\n          preprocessor: value,\n        });\n        break;\n      default:\n    }\n  };\n\n  function AvatarItem(props: { avatar: any }) {\n    const avatar = props.avatar;\n    return (\n      <Avatar\n        alt={avatar.label}\n        src={logo}\n        className={\n          getIsSelected(avatar.label)\n            ? classes.avatarItemSelected\n            : classes.large\n        }\n        onClick={() => optionOnClickHandler(avatar.type, avatar.label)}\n      />\n    );\n  }\n\n  return (\n    <>\n      <Typography className={classes.titleInner} color=\"textPrimary\">\n        Let's get started!\n      </Typography>\n      <Typography variant=\"h6\" className={classes.subtitle}>\n        Chat with Otto to get a {state.stepper_state} recommendation.\n      </Typography>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing={5}\n      >\n        {getOptions(state).map((avatar) => (\n          <Grid item className={classes.avatarItem} key={avatar.label}>\n            {getIsRecommended(avatar.label) ? (\n              <Tooltip title=\"Recommended by Otto!\" placement=\"top\">\n                <StyledBadge\n                  overlap=\"circle\"\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                  }}\n                  badgeContent={\n                    <img\n                      className={classes.recommend}\n                      src=\"https://img.icons8.com/ultraviolet/80/000000/good-quality.png\"\n                      alt=\"R\"\n                    />\n                  }\n                >\n                  <AvatarItem avatar={avatar} />\n                </StyledBadge>\n              </Tooltip>\n            ) : (\n              <AvatarItem avatar={avatar} />\n            )}\n            <Typography\n              color=\"textPrimary\"\n              className={\n                getIsSelected(avatar.label)\n                  ? classes.avatarLabelSelected\n                  : classes.avatarLabel\n              }\n            >\n              {avatar.label}\n            </Typography>\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Card } from \"@material-ui/core\";\nimport { useState } from \"state/State\";\nimport { StepperStateOrder, StateType } from \"state/StateTypes\";\nimport { Actions } from \"state/Actions\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"80%\",\n    marginLeft: 110,\n  },\n  stepLabel: {\n    fontSize: 19,\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  actionsContainer: {\n    marginBottom: theme.spacing(2),\n  },\n  resetContainer: {\n    padding: theme.spacing(3),\n  },\n  headerText: {\n    paddingLeft: theme.spacing(0),\n    paddingTop: theme.spacing(7),\n    paddingBottom: theme.spacing(1),\n    fontWeight: \"600\",\n  },\n  card: {\n    marginTop: \"4px\",\n  },\n  optionLabel: {\n    marginLeft: 12,\n    borderLeft: \"1px solid #bdbdbd\",\n    paddingLeft: 12,\n    height: 32,\n    paddingTop: 4,\n  },\n}));\n\nexport function getSteps() {\n  return [\"Task\", \"Dataset\", \"Model\", \"Preprocessors\", \"Visualize\"];\n}\n\nfunction getStepContent(step) {\n  switch (step) {\n    case 0:\n      return \"Identify the machine learning task that describes your goal\";\n    case 1:\n      return \"Choose from provided datasets, or use your own\";\n    case 2:\n      return \"Select the model best equipped to unlock insights from your data\";\n    case 3:\n      return \"Optimize your data for machine learning\";\n    case 4:\n      return \"Fine tune and visualize your model\";\n    default:\n      return \"Unknown step\";\n  }\n}\n\nexport const getActiveStep = (state: StateType) =>\n  state.stepper_finish\n    ? StepperStateOrder.length\n    : StepperStateOrder.indexOf(state.stepper_state);\n\nexport default function VerticalLinearStepper() {\n  const classes = useStyles();\n  const { state, dispatch } = useState();\n  const steps = getSteps();\n\n  const SelectedOptionLabel = (props: { index: number }) => {\n    let option = null;\n    switch (props.index) {\n      case 0:\n        option = state.task;\n        break;\n      case 1:\n        option = state.dataset_category;\n        break;\n      case 2:\n        option = state.model;\n        break;\n      case 3:\n        option = state.preprocessors.join(\", \");\n        break;\n      default:\n        break;\n    }\n    if (option == null || getActiveStep(state) <= props.index) {\n      return null;\n    }\n    return <Typography className={classes.optionLabel}>{option}</Typography>;\n  };\n\n  const handleReset = () => {\n    dispatch({\n      type: Actions.HANDLE_RESET,\n    });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.headerText} variant=\"h5\">\n        Pipeline Architecture\n      </Typography>\n      <Card className={classes.card} variant=\"outlined\">\n        <Stepper activeStep={getActiveStep(state)} orientation=\"vertical\">\n          {steps.map((label, index) => (\n            <Step key={label}>\n              <StepLabel>\n                {<Typography variant=\"h6\">{label}</Typography>}\n              </StepLabel>\n              <StepContent>\n                <Typography>{getStepContent(index)}</Typography>\n              </StepContent>\n              <SelectedOptionLabel index={index} />\n            </Step>\n          ))}\n        </Stepper>\n      </Card>\n      {getActiveStep(state) === steps.length && (\n        <Paper square elevation={0} className={classes.resetContainer}>\n          <Typography>All steps completed - you&apos;re finished</Typography>\n          <Button onClick={handleReset} className={classes.button}>\n            Reset\n          </Button>\n        </Paper>\n      )}\n    </div>\n  );\n}\n","import {\n  Optimizers,\n  Losses,\n  Activations,\n  Initializers,\n} from \"nn-architecture/hyperparams\";\nimport { Layer } from \"nn-architecture/Layer\";\n\nexport class FeedforwardNN {\n  constructor(state) {\n    this.layers = state.layers;\n    this.activation = state.activation;\n    this.outputActivation = state.outputActivation;\n    this.initializer = state.initializer;\n    this.optimizer = state.optimizer;\n    this.loss = state.loss;\n  }\n\n  pushLayer() {\n    const layers = this.layers;\n    const lastHiddenLayer = layers[layers.length - 2];\n    const lastHiddenSize = lastHiddenLayer.units;\n    const newLayer = new Layer(lastHiddenSize);\n    layers.splice(layers.length - 1, 0, newLayer);\n  }\n\n  popLayer() {\n    const layers = this.layers;\n    layers.splice(layers.length - 2, 1);\n  }\n}\n\n//  setBatchSize(newBatch) {\n//      this.batchSize = newBatch;\n//  }\n//  setLearnRate(newLearn) {\n//      this.learnRate = newLearn;\n//  }\n\n//  setOptimizer(newOptimizer){\n//     this.optimizer = newOptimizer;\n// }\n\n//  setLoss(newLoss) {\n//      this.loss = newLoss;\n//  }\n\n//  setEpochs(newEpochs) {\n//      this.epochs = newEpochs;\n//  }\n\n//  setlearningRateDecay(newDecay) {\n//      this.learningRateDecay = newDecay;\n//  }\n\n// // setInit(newInit) {\n// //     this.initializer = newInit;\n// // }\n\n// addLayer(newLayer) {\n//     this.arrLayers.push(newLayer);\n// }\n\n// removeLayer(index) {\n//     this.arrLayers.splice(index, 1);\n// }\n","import React from \"react\";\nimport { Sigma, RandomizeNodePositions, RelativeSize } from \"react-sigma\";\nimport { FeedforwardNN } from \"nn-architecture/Network\";\nimport { useNNState } from \"state/NNState\";\n\nexport const getSigma = (data) => (\n  <Sigma\n    graph={data}\n    style={{\n      height: \"95%\",\n      transform: \"translate(-50%, -10px)\",\n    }}\n    // onClickNode={onClickNodeFunc}\n    //onOverNode={this.onOverNodeFunc}\n    //onOutNode={this.onOutNodeFunc}\n    settings={{\n      maxNodeSize: 10,\n      maxEdgeSize: 0.3,\n      defaultNodeColor: \"#ec5148\",\n      clone: false,\n      enableHovering: true,\n      rescaleIgnoreSize: true, // TODO change?\n    }}\n  />\n);\n\nexport const toGraph = (network, coloredLayer) => {\n  const layers = network.layers;\n\n  let maxNodeCount = getMaxNodeCount(network);\n\n  let graph = {};\n  let nodes = [];\n  let edges = [];\n  let prevLayerNodes = []; // cache\n\n  for (let i = 0; i < layers.length; i++) {\n    let layer = layers[i];\n    let nodeCount = layer.units;\n\n    let x = i * 0.2;\n    let color = i === coloredLayer ? \"#add8e6\" : \"#fff\";\n\n    let vgap = 0.15 - nodeCount / 200;\n    let renderHeight = (nodeCount - 1) * vgap;\n    let initY = (2.0 - renderHeight) / 2;\n\n    let thisLayerNodes = [];\n\n    for (let j = 0; j < nodeCount; j++) {\n      let y = initY + j * vgap;\n      let id = i + \",\" + j;\n      let size = 1;\n\n      let node = { x: x, y: y, size: size, id: id /*color: color*/ };\n      nodes.push(node);\n      thisLayerNodes.push(node);\n    }\n\n    if (prevLayerNodes.length > 0) {\n      // TODO check this??\n      connect(prevLayerNodes, thisLayerNodes, edges);\n    }\n\n    prevLayerNodes = thisLayerNodes;\n  }\n\n  graph.nodes = nodes;\n  graph.edges = edges;\n  return graph;\n};\n\nconst connect = (prevLayerNodes, thisLayerNodes, edges) => {\n  for (let i = 0; i < prevLayerNodes.length; i++) {\n    let prevNode = prevLayerNodes[i];\n    let source = prevNode.id;\n\n    for (let j = 0; j < thisLayerNodes.length; j++) {\n      let thisNode = thisLayerNodes[j];\n\n      let id = \"e_\" + prevNode.id + \",\" + thisNode.id;\n      let target = thisNode.id;\n      let size = 1 - (prevLayerNodes.length * thisLayerNodes.length) / 100;\n\n      let edge = { id: id, source: source, target: target, size: size };\n      edges.push(edge);\n    }\n  }\n};\n\nconst getMaxNodeCount = (network) => {\n  const layers = network.layers;\n  let max = 0;\n  for (let layer of layers) {\n    let nodeCount = layer.numNodes;\n    if (nodeCount > max) max = nodeCount;\n  }\n  return max;\n};\n\nexport default function VisualizerNNContainer() {\n  console.log(\"Visualizing the NN\");\n  const { nn_state, nn_dispatch } = useNNState();\n  console.log(\"NN state\", nn_state);\n  let nn = new FeedforwardNN(nn_state);\n  // nn.loss = Losses.MULTI_CLASS;\n  // console.log(networkCode(nn));\n\n  // nn.pushLayer();\n  // nn.pushLayer();\n  // console.log(networkCode(nn));\n\n  // nn.popLayer();\n  // console.log(networkCode(nn));\n\n  let g = toGraph(nn);\n\n  return getSigma(g);\n}\n","import React from \"react\";\nimport {\n  ScatterChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  ZAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from \"recharts\";\n\nconst data01 = [\n  { x: 100, y: 200, z: 200 },\n  { x: 120, y: 100, z: 260 },\n  { x: 170, y: 300, z: 400 },\n  { x: 140, y: 250, z: 280 },\n  { x: 150, y: 400, z: 500 },\n  { x: 110, y: 280, z: 200 },\n];\nconst data02 = [\n  { x: 200, y: 260, z: 240 },\n  { x: 240, y: 290, z: 220 },\n  { x: 190, y: 290, z: 250 },\n  { x: 198, y: 250, z: 210 },\n  { x: 180, y: 280, z: 260 },\n  { x: 210, y: 220, z: 230 },\n];\n\nexport default function PlotKNN() {\n  return (\n    <ScatterChart\n      width={400}\n      height={400}\n      margin={{\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20,\n      }}\n    >\n      <CartesianGrid />\n      <XAxis type=\"number\" dataKey=\"x\" name=\"stature\" unit=\"cm\" />\n      <YAxis type=\"number\" dataKey=\"y\" name=\"weight\" unit=\"kg\" />\n      <ZAxis\n        type=\"number\"\n        dataKey=\"z\"\n        range={[60, 400]}\n        name=\"score\"\n        unit=\"km\"\n      />\n      <Tooltip cursor={{ strokeDasharray: \"3 3\" }} />\n      <Legend />\n      <Scatter name=\"A school\" data={data01} fill=\"#8884d8\" shape=\"star\" />\n      <Scatter name=\"B school\" data={data02} fill=\"#82ca9d\" shape=\"triangle\" />\n    </ScatterChart>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"state/State\";\nimport { Models } from \"state/StateTypes\";\nimport VisualizerNNContainer from \"components/VisualizerNNContainer\";\nimport PlotKNN from \"components/PlotKNN\";\n\nexport default function PlotsContainer() {\n  const { state } = useState();\n  switch (state.model) {\n    case Models.NEURAL_NETWORK_FF:\n      return <VisualizerNNContainer />;\n    case Models.KNN:\n      return <PlotKNN />;\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  CardContent,\n  CardActions,\n  Typography,\n  Card,\n  Button,\n} from \"@material-ui/core\";\nimport {\n  NavigateNextRounded,\n  NavigateBeforeRounded,\n} from \"@material-ui/icons/\";\n\nimport { useState } from \"state/State\";\nimport VisualizerOptionSelectionGrid from \"components/VisualizerOptionSelectionGrid\";\nimport { getOptions } from \"components/VisualizerOptionSelectionGrid\";\nimport { getActiveStep, getSteps } from \"containers/SummaryContainer\";\nimport { StepperState } from \"state/StateTypes\";\nimport { Actions } from \"state/Actions\";\nimport PlotsContainer from \"./PlotsContainer\";\n\nconst useStyles = makeStyles((theme) => ({\n  rootExplanation: {\n    width: \"100%\",\n    textAlign: \"center\",\n    paddingTop: theme.spacing(1),\n    boxShadow: \"none\",\n    height: 100,\n  },\n  rootActions: {\n    width: \"100%\",\n    height: \"100%\",\n    textAlign: \"center\",\n    paddingTop: theme.spacing(1),\n    position: \"relative\",\n  },\n  title: {\n    fontSize: \"2vw\",\n    fontWeight: 300,\n    marginTop: -5,\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  fullHeight: {\n    height: \"100%\",\n  },\n  visualizerHeight: {\n    height: \"calc(100% - 100px)\",\n  },\n}));\n\nfunction VisualizerContainer() {\n  const classes = useStyles();\n  const steps = getSteps();\n  const { state, dispatch } = useState();\n\n  const getIsSelected = (value) =>\n    [\n      state.task,\n      state.dataset_category,\n      state.sample_dataset,\n      state.model,\n      ...state.preprocessors,\n    ].includes(value);\n\n  const handleNext = () => {\n    dispatch({\n      type: Actions.STEPPER_HANDLE_NEXT,\n    });\n  };\n\n  const handleBack = () => {\n    dispatch({\n      type: Actions.STEPPER_HANDLE_PREVIOUS,\n    });\n  };\n\n  const handleFinish = () => {\n    dispatch({\n      type: Actions.HANDLE_STEPPER_FINISH,\n    });\n  };\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"flex-start\"\n      alignItems=\"center\"\n      className={classes.fullHeight}\n    >\n      <Grid item className={classes.fullWidth}>\n        <Card className={classes.rootExplanation}>\n          <CardContent>\n            <Typography className={classes.title} color=\"primary\">\n              Build a machine learning pipeline with Otto\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n      <Grid className={`${classes.fullWidth} ${classes.visualizerHeight}`} item>\n        <Card className={classes.rootActions} variant=\"outlined\">\n          <CardContent className={classes.fullHeight}>\n            {state.stepper_state === StepperState.VISUALIZE ? (\n              <PlotsContainer />\n            ) : (\n              <VisualizerOptionSelectionGrid />\n            )}\n          </CardContent>\n          <CardActions\n            style={{\n              position: \"absolute\",\n              bottom: \"2px\",\n              display: \"inline-block\",\n              width: \"100%\",\n              left: 0,\n            }}\n          >\n            {getActiveStep(state) > 0 ? (\n              <Button\n                onClick={handleBack}\n                className={classes.button}\n                style={{ float: \"left\" }}\n                startIcon={<NavigateBeforeRounded />}\n              >\n                {steps[getActiveStep(state) - 1]}\n              </Button>\n            ) : null}\n            <Button\n              disabled={\n                state.stepper_state !== StepperState.PREPROCESSORS &&\n                !getOptions(state).some((val) => getIsSelected(val.label))\n              }\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={\n                getActiveStep(state) === steps.length - 1\n                  ? handleFinish\n                  : handleNext\n              }\n              className={classes.button}\n              style={{ float: \"right\" }}\n              endIcon={<NavigateNextRounded />}\n            >\n              {getActiveStep(state) === steps.length - 1\n                ? \"Finish\"\n                : steps[getActiveStep(state) + 1]}\n            </Button>\n          </CardActions>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default VisualizerContainer;\n","import { Layers } from \"nn-architecture/hyperparams\";\nconst StringBuilder = require(\"string-builder\");\n\nexport const model = (state) => {\n  const sb = new StringBuilder();\n\n  sb.appendLine(\"model = Sequential()\");\n  sb.append(layerCode(state));\n\n  sb.appendLine(\n    `model.compile(optimizer='${state.optimizer}', loss='${state.loss}')`\n  );\n\n  sb.appendLine(\"model.fit(X_train, y_train, batch_size=32, epochs=100)\");\n\n  return sb.toString();\n};\n\nconst layerCode = (state) => {\n  const sb = new StringBuilder();\n  const layers = state.layers;\n  for (let i = 0; i < layers.length; i++) {\n    const layer = layers[i];\n\n    let layerCode;\n    if (i === 0) {\n      layerCode = inputLayerCode(layer);\n    } else if (i === layers.length - 1) {\n      layerCode = outputLayerCode(layer, state);\n    } else {\n      layerCode = hiddenLayerCode(layer, state);\n    }\n\n    sb.appendLine(layerCode);\n  }\n  return sb.toString();\n};\n\nconst inputLayerCode = (layer) => {\n  const units = layer.units;\n\n  const str = `model.add(Input(shape=(${units},)))`;\n  return str;\n};\n\nconst hiddenLayerCode = (layer, state) => {\n  const units = layer.units;\n  const activation = state.activation;\n  const initializer = state.initializer;\n\n  const str = `model.add(Dense(${units}, activation='${activation}', kernel_initializer='${initializer}'))`;\n  return str;\n};\n\nconst outputLayerCode = (layer, state) => {\n  const units = layer.units;\n  const activation = state.outputActivation;\n  const initializer = state.initializer;\n\n  const str = `model.add(Dense(${units}, activation='${activation}', kernel_initializer='${initializer}'))`;\n  return str;\n};\n","import * as importsCode from \"codegen/importsCode\";\nimport * as regressionCode from \"codegen/regressionCode\";\nimport * as knnCode from \"codegen/knnCode\";\nimport * as sharedCode from \"codegen/sharedCode\";\nimport * as preprocessCode from \"codegen/preprocessCode\";\nimport { Models, DatasetCategory, Preprocessors } from \"state/StateTypes\";\nimport * as networkCode from \"codegen/networkCode\";\nimport { FeedforwardNN } from \"nn-architecture/Network\";\nconst StringBuilder = require(\"string-builder\");\n\nexport const codeGen = (state, nn_state) => {\n  const sb = new StringBuilder();\n  sb.append(importsCode.universal());\n\n  // model-specific imports\n  switch (state.model) {\n    case Models.KNN:\n      sb.appendLine(importsCode.knn());\n      break;\n    case Models.NEURAL_NETWORK_FF:\n      sb.appendLine(importsCode.nn());\n      break;\n    case Models.LINEAR_REGRESSION:\n      sb.appendLine(importsCode.linear());\n      break;\n    case Models.ORDINAL_REGRESSION:\n      sb.appendLine(importsCode.ordinal());\n      break;\n    case Models.POISSON_REGRESSION:\n      sb.appendLine(importsCode.poisson());\n      break;\n  }\n\n  // preprocessor imports\n  if (state.preprocessors.includes(Preprocessors.NORMALIZATION)) {\n    sb.appendLine(importsCode.normalization());\n  }\n  if (state.preprocessors.includes(Preprocessors.PCA)) {\n    sb.appendLine(importsCode.pca());\n  }\n\n  // import sklearn datasets\n  switch (state.dataset_category) {\n    case DatasetCategory.SAMPLE:\n      sb.appendLine(importsCode.sklearnDatasets());\n      break;\n  }\n\n  sb.appendLine();\n\n  // defines loadData function\n  switch (state.dataset_category) {\n    case DatasetCategory.SAMPLE:\n      sb.appendLine(sharedCode.defineLoadDataset(state.sample_dataset));\n      break;\n    case DatasetCategory.CUSTOM:\n      sb.appendLine(sharedCode.defineLoadUnspecified());\n      break;\n  }\n\n  sb.appendLine();\n\n  // defines params\n  sb.appendLine(params(state));\n\n  sb.appendLine();\n\n  // loads data\n  sb.appendLine(sharedCode.load());\n\n  // scales data\n  if (state.preprocessors.includes(Preprocessors.NORMALIZATION)) {\n    sb.appendLine(preprocessCode.normalization());\n  }\n\n  // slices data (feature selection OR pca)\n  sb.appendLine(sliceData(state));\n\n  // splits training/testing sets\n  sb.appendLine(sharedCode.split()); // TODO: exempt nlp\n\n  sb.appendLine();\n\n  // fits model\n  switch (state.model) {\n    case Models.KNN:\n      sb.appendLine(knnCode.model());\n      break;\n    case Models.NEURAL_NETWORK_FF:\n      sb.appendLine(networkCode.model(nn_state)); // TODO: replace with NN\n      break;\n    case Models.LINEAR_REGRESSION:\n      sb.appendLine(regressionCode.modelLinear());\n      break;\n    case Models.ORDINAL_REGRESSION:\n      sb.appendLine(regressionCode.modelOrdinal());\n      break;\n    case Models.POISSON_REGRESSION:\n      sb.appendLine(regressionCode.modelPoisson());\n      break;\n  }\n\n  return sb.toString();\n};\n\nconst componentsForModel = (model) => {\n  switch (model) {\n    case Models.KNN:\n      return 2;\n    case Models.NEURAL_NETWORK_FF:\n      return \"None\";\n    case Models.ORDINAL_REGRESSION:\n    case Models.POISSON_REGRESSION:\n    case Models.LINEAR_REGRESSION:\n      return 1;\n  }\n};\n\nconst params = (state) => {\n  if (state.preprocessors.includes(Preprocessors.PCA)) {\n    const components = componentsForModel(state.model);\n    return preprocessCode.paramsPca(components);\n  }\n\n  switch (state.model) {\n    case Models.KNN:\n      return knnCode.params(7); // TODO: replace with number of neighbors\n    case Models.LINEAR_REGRESSION:\n      return regressionCode.params(5); // TODO: replace with feature column\n  }\n};\n\nconst sliceData = (state) => {\n  if (state.preprocessors.includes(Preprocessors.PCA)) {\n    return preprocessCode.pca();\n  }\n\n  switch (state.model) {\n    case Models.KNN:\n      return knnCode.slice();\n    case Models.ORDINAL_REGRESSION:\n    case Models.POISSON_REGRESSION:\n    case Models.LINEAR_REGRESSION:\n      return regressionCode.slice();\n  }\n};\n\n// const normalizationWithoutPCA = (preprocessors) => {\n//     return (preprocessors.includes(Preprocessors.NORMALIZATION) &&\n//         !preprocessors.includes(Preprocessors.PCA)\n//     );\n// }\n","export const defineLoadDataset = (dataset) => {\n    return `def loadData():\n    return datasets.load_${dataset}(return_X_y=True)\n`;\n}\n\nexport const defineLoadUnspecified = () => {\n    return `## Replace with your own dataset! Return X, y sets\ndef loadData():\n    return None, None\n    `\n}\n\nexport const load = () => {\n    return  `X, y = loadData()`;\n}\n\nexport const split = () => {\n    return `# Split the data into training/testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n    `;\n}","export const universal = () => {\n\nreturn `import matplotlib.pyplot as plt \nimport numpy as np \nfrom sklearn.model_selection import train_test_split`;\n\n}\n\nexport const linear = () => {\n    return `from sklearn import linear_model\nfrom sklearn.metrics import mean_squared_error, r2_score`;\n}\n\nexport const poisson = () => {\n    return `from sklearn import linear_model\nfrom sklearn.metrics import mean_poisson_deviance`;\n}\n\nexport const ordinal = () => {\n    return `import mord\nfrom sklearn.metrics import accuracy_score`;\n}\n\nexport const knn = () => {\n    return `from sklearn import neighbors`;\n}\n\nexport const nn = () => {\n    return `from tensorflow.keras import Sequential\nfrom tensorflow.keras.layers import Dense, Input`;\n}\n\nexport const sklearnDatasets = () => {\n    return `from sklearn import datasets`\n}\n\nexport const normalization = () => {\n    return `from sklearn.preprocessing import scale`\n}\n\nexport const pca = () => {\n    return `from sklearn.decomposition import PCA`\n}","export const normalization = () => {\n    return `X = scale(X)`\n}\n\nexport const pca = () => {\n    return `X = PCA(COMPONENTS).fit_transform(X)`\n}\n\nexport const paramsPca = (components) => {\n    return `COMPONENTS = ${components}`\n}","export const params = (neighbors) => {\n    return `NEIGHBORS = ${neighbors}`;\n}\n\nexport const slice = () => {\n    return `X = X[:, :2]`;\n}\n\nexport const model = () => {\n\n    const knn = \n`# we create an instance of Neighbours Classifier and fit the data.\nclf = neighbors.KNeighborsClassifier(NEIGHBORS)\nclf.fit(X, y)\n\n# Plot the decision boundary. For that, we will assign a color to each\n# point in the mesh [x_min, x_max]x[y_min, y_max].\nx_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1\ny_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1\nxx, yy = np.meshgrid(np.arange(x_min, x_max, .02),\n                        np.arange(y_min, y_max, .02))\nZ = clf.predict(np.c_[xx.ravel(), yy.ravel()])\n\n# Put the result into a color plot\ncmap = 'coolwarm'\nZ = Z.reshape(xx.shape)\nplt.figure()\nplt.contourf(xx, yy, Z, cmap=cmap, alpha=0.7)\n\n# Plot the training points\nplt.scatter(X[:, 0], X[:, 1], c=y, cmap=cmap,\n            edgecolor='k', s=20)\nplt.xlim(xx.min(), xx.max())\nplt.ylim(yy.min(), yy.max())\nplt.title(\"Classification (k = %i)\"\n            % (NEIGHBORS))\n\nplt.show()\n`;\n    return knn;\n}","export const params = (column) => {\n    return `FEATURE_COLUMN = ${column}`;\n}\n\nexport const slice = () => {\n    return `X = X[:, np.newaxis, FEATURE_COLUMN]`;\n}\n\nexport const modelLinear = () => {\n\n    const linear = \n`# Create linear regression object\nregr = linear_model.LinearRegression()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \\n', regr.coef_)\n# The mean squared error\nprint('Mean squared error: %.2f'\n        % mean_squared_error(y_test, y_pred))\n# The coefficient of determination: 1 is perfect prediction\nprint('Coefficient of determination: %.2f'\n        % r2_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Linear Regression Model')\n\nplt.show()\n`;\n    return linear;\n}\n\nexport const modelPoisson = () => {\n    const poisson = \n`# Create linear regression object\nregr = linear_model.PoissonRegressor()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \\n', regr.coef_)\n# The mean poisson deviance\nprint('Mean poisson deviance: %.2f'\n        % mean_poisson_deviance(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Poisson Regression Model')\n\nplt.show()\n`;\n    return poisson;\n}\n\nexport const modelOrdinal = () => {\n    const ordinal = \n`# Create linear regression object\nregr = mord.OrdinalRidge()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \\n', regr.coef_)\n# The accuracy\nprint('Accuracy: %.2f'\n        % accuracy_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Ordinal Regression Model')\n\nplt.show()\n`;\n    return ordinal;\n}","import React from \"react\";\n\nimport { useState } from \"state/State\";\nimport { codeGen } from \"codegen/codeGen\";\nimport { useNNState } from \"state/NNState\";\n\nfunction CodeContainer() {\n  const { state } = useState();\n  const { nn_state } = useNNState();\n\n  return (\n    <textarea\n      value={codeGen(state, nn_state)}\n      style={{ width: \"100%\", height: \"100%\", fontSize: \"11px\" }}\n    />\n  );\n}\n\nexport default CodeContainer;\n","import React from \"react\";\nimport \"App.css\";\nimport VisualizerContainer from \"containers/VisualizerContainer\";\nimport CodeContainer from \"containers/CodeContainer\";\nimport { Grid } from \"@material-ui/core\";\n\nfunction MainColumnContainer() {\n  return (\n    <Grid container style={{ height: \"100%\" }}>\n      <Grid item className=\"visualizerContainer\">\n        <VisualizerContainer />\n      </Grid>\n      <Grid item className=\"outerContainer codeContainer\">\n        <CodeContainer />\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default MainColumnContainer;\n","import React from \"react\";\nimport { Col } from \"react-bootstrap\";\nimport RightColumnContainer from \"containers/RightColumnContainer\";\nimport MainColumnContainer from \"containers/MainColumnContainer\";\nimport SummaryContainer from \"containers/SummaryContainer\";\nimport { NNStateProvider } from \"state/NNState\";\n\nfunction ContentContainer() {\n  return (\n    <>\n      <Col className=\"summaryContainer\" lg={2}>\n        <SummaryContainer />\n      </Col>\n      <Col className=\"mainColumnContainer\">\n        <NNStateProvider>\n          <MainColumnContainer />\n        </NNStateProvider>\n      </Col>\n      <Col className=\"rightColumnContainer\" lg={3}>\n        <NNStateProvider>\n          <RightColumnContainer />\n        </NNStateProvider>\n      </Col>\n    </>\n  );\n}\n\nexport default ContentContainer;\n","import React from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-chat-widget/lib/styles.css\";\nimport \"App.css\";\n\nimport { StateProvider } from \"state/State\";\nimport ContentContainer from \"containers/ContentContainer\";\nimport HeaderContainer from \"containers/HeaderContainer\";\nimport WidgetContainer from \"containers/WidgetContainer\";\n\nfunction App() {\n  return (\n    <Container className={\"vh-100\"} fluid>\n      <StateProvider>\n        {/* <Row className={\"headerContainer\"}>\n          <HeaderContainer />\n        </Row> */}\n        <Row className={\"contentContainer\"}>\n          <ContentContainer />\n        </Row>\n        <WidgetContainer />\n      </StateProvider>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport AppContainer from \"containers/AppContainer\";\nimport * as serviceWorker from \"serviceWorker\";\nimport \"fontsource-roboto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContainer />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}