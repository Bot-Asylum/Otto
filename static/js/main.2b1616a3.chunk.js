(this["webpackJsonpotto-app"]=this["webpackJsonpotto-app"]||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},229:function(e,t,a){e.exports=a.p+"static/media/otto.568bae44.jpeg"},285:function(e,t,a){e.exports=a(537)},290:function(e,t,a){},292:function(e,t,a){},320:function(e,t){},322:function(e,t){},337:function(e){e.exports=JSON.parse('{"task":"W3DWC6KYX3DL53X2U433MOIGXUJ7LWVC","task_tester":"ELEJHTSSVOAGTPMPLOE3BV62RGCO6CH7","model":"THQBJN6MWCUGPGUIABFIGQTOCKPDCMHQ","nn":"U5MAH6LLYZWKGMBJGCGCYROYSELNII47"}')},528:function(e,t){},530:function(e,t){},537:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(13),o=a.n(i),s=(a(290),a(596)),c=a(589),l=(a(291),a(292),a(99),a(50)),u=a(12),p=a(77),d=Object.freeze({CLASSIFICATION:"Classification",REGRESSION:"Regression",NATURAL_LANGUAGE:"Natural Language"}),E=Object.freeze({LINEAR_REGRESSION:"Linear Regression",POISSON_REGRESSION:"Poisson Regression",ORDINAL_REGRESSION:"Ordinal Regression",KNN:"K-Nearest Neighbors",NEURAL_NETWORK_FF:"Feedforward Neural Network",SENTIMENT_ANALYSIS:"Sentiment Analysis",ENTITY_RECOGNITION:"Entity Recognition"}),m=Object.freeze({CUSTOM:"Custom",SAMPLE:"Sample"}),_=(Object.freeze({IRIS:"iris",BOSTON:"boston"}),Object.freeze({PCA:"PCA",NORMALIZATION:"Normalization",TEXT_CLEANING:"Text Cleaning"})),f=Object.freeze({TASK:"task",DATASET:"dataset",MODEL:"model",PREPROCESSORS:"preprocessors",VISUALIZE:"visualize"}),h=[f.TASK,f.DATASET,f.MODEL,f.PREPROCESSORS,f.VISUALIZE],O=function(){return{task:d.CLASSIFICATION,task_otto:null,model:E.NEURAL_NETWORK_FF,model_otto:null,dataset_category:m.CUSTOM,dataset_category_otto:null,sample_dataset:null,sample_dataset_otto:null,preprocessors:[],preprocessors_otto:[],stepper_state:f.VISUALIZE,stepper_finish:!1}},S=Object.freeze({SET_TASK:"SET_TASK",SET_MODEL:"SET_MODEL",SET_DATASET_CATEGORY:"SET_DATASET_CATEGORY",SET_SAMPLE_DATASET:"SET_SAMPLE_DATASET",SET_TASK_OTTO:"SET_TASK_OTTO",SET_MODEL_OTTO:"SET_MODEL_OTTO",SET_DATASET_CATEGORY_OTTO:"SET_DATASET_CATEGORY_OTTO",SET_SAMPLE_DATASET_OTTO:"SET_SAMPLE_DATASET_OTTO",TOGGLE_PREPROCESSOR:"TOGGLE_PREPROCESSOR",TOGGLE_PREPROCESSOR_OTTO:"TOGGLE_PREPROCESSOR_OTTO",STEPPER_HANDLE_NEXT:"STEPPER_HANDLE_NEXT",STEPPER_HANDLE_PREVIOUS:"STEPPER_HANDLE_PREVIOUS",HANDLE_STEPPER_FINISH:"HANDLE_STEPPER_FINISH",HANDLE_RESET:"HANDLE_RESET"}),g=a(229),T=a.n(g),N=function(e){return["Sounds cool!","I'd recommend a ".concat(e," model to help you explore that idea")]},b=function(e){return["In that case, I think a ".concat(e," model would be perfect")]},y=a(18),A=a.n(y),R=a(69),v=a(31),L=a(27),I=a(32),x={task_reg:d.REGRESSION,task_class:d.CLASSIFICATION,task_nlp:d.NATURAL_LANGUAGE},k={"poisson:poisson":E.POISSON_REGRESSION,"ordinal:ordinal":E.ORDINAL_REGRESSION},w={"knn:knn":E.KNN},C=function(){var e=Object(v.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.message(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(e){var t=e.intents,a=null;if(t.length>0){var n=t[0].name;a=x[n]}return a},j=function(e){var t=e.entities,a=null;"subject:subject"in t&&(a=t["subject:subject"][0].body);return a},D=function(){var e=Object(v.a)(A.a.mark((function e(t,a){var n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(a,t);case 2:if(n=e.sent,r=Object.keys(n.entities),0!=(i=r.map((function(e){return k[e]}))).length){e.next=7;break}return e.abrupt("return",E.LINEAR_REGRESSION);case 7:return e.abrupt("return",i[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(v.a)(A.a.mark((function e(t,a){var n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(a,t);case 2:if(n=e.sent,r=Object.keys(n.entities),0!=(i=r.map((function(e){return w[e]}))).length){e.next=7;break}return e.abrupt("return",E.NEURAL_NETWORK_FF);case 7:return e.abrupt("return",i[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=Object.freeze({ADAM:"adam"}),z=Object.freeze({BINARY_CLASS:"binary_crossentropy",MULTI_CLASS:"categorical_crossentropy"}),U=Object.freeze({RELU:"relu",SIGMOID:"sigmoid",TANH:"tanh",SOFTMAX:"softmax"}),F=Object.freeze({GLOROT:"glorot_uniform",RANDOM:"random_uniform",HE:"he_uniform",LECUN:"lecun_uniform"}),K=(Object.freeze({INPUT:"Input",DENSE:"Dense"}),function e(t){Object(L.a)(this,e),this.units=t}),X=function(){var e=Object(v.a)(A.a.mark((function e(t,a,n,r,i,o){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.stepper_state,e.next=e.t0===f.TASK?3:e.t0===f.MODEL?6:e.t0===f.VISUALIZE?7:9;break;case 3:return e.next=5,W(t,a.task,n,r);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",H(t,a.model,n,r));case 7:if(n.model!==E.NEURAL_NETWORK_FF){e.next=9;break}return e.abrupt("return",Y(t,a.nn,i,o));case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,o){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(A.a.mark((function e(t,a,n,r){var i,o,s,c,u,p,d,E,_;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("taskStep"),e.next=3,C(a,t);case 3:if(i=e.sent,console.log(i),o=j(i),console.log(o),o||t,s=[null,null,null,null],c=Object(l.a)(s,4),u=c[0],p=c[1],d=c[2],E=c[3],console.log(u),console.log(d),console.log(E),_=u||P(i),console.log(_),d&&(r({type:S.SET_DATASET_CATEGORY,dataset_category:m.SAMPLE}),r({type:S.SET_DATASET_CATEGORY_OTTO,dataset_category:m.SAMPLE}),r({type:S.SET_SAMPLE_DATASET,sample_dataset:d}),r({type:S.SET_SAMPLE_DATASET_OTTO,sample_dataset:d}),r({type:S.SET_MODEL,model:p}),r({type:S.SET_MODEL_OTTO,model:p})),!_){e.next=19;break}return r({type:S.SET_TASK,task:_}),r({type:S.SET_TASK_OTTO,task:_}),e.abrupt("return",N(_));case 19:return e.abrupt("return",["Here are some pointers to help you figure out what type of machine learning task to select","Regression is used to model numerical variables, such as stock prices or infection rates, while classification predicts categorical outcomes, like whether an image is a cat or a dog or if a candidate will win or not","Natural language processing can do things like identify structures in text and figure out the tone behind an expression","Whenever you\u2019re ready, pick the task that seems like the best fit"]);case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(A.a.mark((function e(t,a,n,r){var i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("modelStep"),i=n.task,o=n.model,console.log("Task: \n",i),console.log("Model: \n",o),o){e.next=22;break}e.t0=i,e.next=e.t0===d.REGRESSION?9:e.t0===d.CLASSIFICATION?13:20;break;case 9:return e.next=11,D(t,a);case 11:return o=e.sent,e.abrupt("break",20);case 13:return e.next=15,G(t,a);case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1=E.NEURAL_NETWORK_FF;case 18:return o=e.t1,e.abrupt("break",20);case 20:r({type:S.SET_MODEL,model:o}),r({type:S.SET_MODEL_OTTO,model:o});case 22:return e.abrupt("return",b(o));case 23:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(v.a)(A.a.mark((function e(t,a,n,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Architecture step: ",n),r({layers:[new K(3)],activation:U.RELU,outputActivation:U.SOFTMAX,initializer:F.GLOROT,optimizer:M.ADAM,loss:z.BINARY_CLASS});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),B=function(e){},V=function(e){var t=[];switch(t.push(["Now that we have our machine learning task and dataset figured out, the next step is to select an appropriate model"]),e.task){case d.CLASSIFICATION:t.push(["Could you describe the dataset in more detail?"]);break;case d.REGRESSION:t.push(["Could you describe the dependent variable in more detail?"]);break;case d.NATURAL_LANGUAGE:t.push(["Entity recognition is useful for extracting key information from text (like phone numbers, album names, and times)","While sentiment analysis classifies expressions by their polarity (positive, negative, or neutral)"])}return t},Z=function(e){return["Based on what you've told me, I've gone ahead and setup some data preprocessors to help optimize the learning process"]},q=function(e){if(e.model===E.NEURAL_NETWORK_FF)return["Finally, we're ready to build and configure our neural network!","I've made a basic feedforward network with 5 hidden layers and standard activations / initializers","You can play with the model and customize it, or tell me what changes to make"]},J=a(299),Q=J.Wit,$=(J.log,a(337)),ee=function(){function e(t){var a=this;Object(L.a)(this,e),this.sayMessages=function(){var e=Object(v.a)(A.a.mark((function e(t){var n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.isArray(t)||(t=[t]),t=t.flat(1),n=Object(R.a)(t),e.prev=3,i=A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=r.value)){e.next=5;break}return e.next=4,new Promise((function(e){return setTimeout(e,te(t))}));case 4:a.say(t);case 5:case"end":return e.stop()}}),e)})),n.s();case 6:if((r=n.n()).done){e.next=10;break}return e.delegateYield(i(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUserMessage=function(){var e=Object(v.a)(A.a.mark((function e(t,n,r,i,o){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementsByClassName("rcw-sender")[0].message.value="",console.log("handleUserMessage in Conversation: ".concat(t)),console.log("State: ",n),e.t0=a,e.next=6,X(t,a.wits,n,r,i,o);case 6:return e.t1=e.sent,e.next=9,e.t0.sayMessages.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),this.handleStateAdvance=function(e){console.log("State has been advanced!"),console.log("State: ",e),a.sayMessages(function(e){switch(e.stepper_state){case f.DATASET:return B(e);case f.MODEL:return V(e);case f.PREPROCESSORS:return Z(e);case f.VISUALIZE:return q(e)}}(e))},this.say=t,this.ottoTask=new Q({accessToken:$.task_tester}),this.ottoModel=new Q({accessToken:$.model}),this.ottoNN=new Q({accessToken:$.nn}),this.wits={task:this.ottoTask,model:this.ottoModel,nn:this.ottoNN}}return Object(I.a)(e,[{key:"render",value:function(){return null}}]),e}();function te(e){e.length;return 100}var ae=a(42),ne=Object.freeze({SET_SELECTED_LAYER:"SET_SELECTED_LAYER",SET_NODES:"SET_NODES"}),re={layers:[new K(3),new K(5),new K(5),new K(5),new K(5),new K(2)],activation:U.RELU,outputActivation:U.SOFTMAX,initializer:F.GLOROT,optimizer:M.ADAM,loss:z.BINARY_CLASS,selectedLayerIndex:0},ie=Object(n.createContext)(re),oe=Object(n.createContext)((function(){return null}));function se(e,t){switch(t.type){case ne.SET_SELECTED_LAYER:return Object(u.a)(Object(u.a)({},e),{},{selectedLayerIndex:t.layer});case ne.SET_NODES:var a=Object(ae.a)(e.layers);return a[t.layer]=new K(t.nodes),console.log("layers",a),Object(u.a)(Object(u.a)({},e),{},{layers:a});default:return e}}var ce=function(e){var t=e.children,a=Object(n.useReducer)(se,re),i=Object(l.a)(a,2),o=i[0],s=i[1];return r.a.createElement(ie.Provider,{value:o},r.a.createElement(oe.Provider,{value:s},t))},le=function(){return{nn_state:Object(n.useContext)(ie),nn_dispatch:Object(n.useContext)(oe)}},ue=new ee(p.addResponseMessage);function pe(){Object(p.deleteMessages)(),ue.sayMessages(["Hey there!","What would you like to do today?"])}var de=function(){var e=Se(),t=e.state,a=e.dispatch,i=le(),o=i.nn_state,s=i.nn_dispatch;return Object(n.useEffect)((function(){Object(p.toggleWidget)(),pe()}),[]),r.a.createElement(p.Widget,{handleSubmit:function(e){ue.handleUserMessage(e,t,a,o,s)},launcher:function(){return null},subtitle:"",title:"Otto",titleAvatar:T.a})},Ee=O(),me=Object(n.createContext)(Ee),_e=Object(n.createContext)((function(){return null})),fe=h.length;function he(e,t){var a=function(){return h.indexOf(e.stepper_state)};switch(t.type){case S.SET_TASK:return Object(u.a)(Object(u.a)({},e),{},{task:t.task});case S.SET_DATASET_CATEGORY:return Object(u.a)(Object(u.a)({},e),{},{dataset_category:t.dataset_category});case S.SET_MODEL:return Object(u.a)(Object(u.a)({},e),{},{model:t.model});case S.SET_SAMPLE_DATASET:return Object(u.a)(Object(u.a)({},e),{},{sample_dataset:t.sample_dataset});case S.SET_TASK_OTTO:return Object(u.a)(Object(u.a)({},e),{},{task_otto:t.task});case S.SET_DATASET_CATEGORY_OTTO:return Object(u.a)(Object(u.a)({},e),{},{dataset_category_otto:t.dataset_category});case S.SET_MODEL_OTTO:return Object(u.a)(Object(u.a)({},e),{},{model_otto:t.model});case S.SET_SAMPLE_DATASET_OTTO:return Object(u.a)(Object(u.a)({},e),{},{sample_dataset_otto:t.sample_dataset});case S.TOGGLE_PREPROCESSOR:var n=e.preprocessors;return n.includes(t.preprocessor)?n=n.filter((function(e){return e!==t.preprocessor})):n.push(t.preprocessor),Object(u.a)(Object(u.a)({},e),{},{preprocessors:n});case S.TOGGLE_PREPROCESSOR_OTTO:var r=e.preprocessors_otto;return r=r.includes(t.preprocessor)?r.filter((function(e){return e!==t.preprocessor})):r.push(t.preprocessor),Object(u.a)(Object(u.a)({},e),{},{preprocessors_otto:r});case S.STEPPER_HANDLE_NEXT:var i=Object(u.a)(Object(u.a)({},e),{},{stepper_state:fe===a()?fe:h[a()+1]});return function(e){ue.handleStateAdvance(e)}(i),i;case S.STEPPER_HANDLE_PREVIOUS:return Object(u.a)(Object(u.a)({},e),{},{stepper_state:h[h.indexOf(e.stepper_state)-1],stepper_finish:!1});case S.HANDLE_STEPPER_FINISH:return Object(u.a)(Object(u.a)({},e),{},{stepper_finish:!0});case S.HANDLE_RESET:return pe(),O();default:return e}}var Oe=function(e){var t=e.children,a=Object(n.useReducer)(he,Ee),i=Object(l.a)(a,2),o=i[0],s=i[1];return r.a.createElement(me.Provider,{value:o},r.a.createElement(_e.Provider,{value:s},t))},Se=function(){return{state:Object(n.useContext)(me),dispatch:Object(n.useContext)(_e)}},ge=a(595),Te=a(576),Ne=a(581),be=a(583),ye=a(587),Ae=a(588),Re=a(579),ve=a(602),Le=a(582),Ie=a(603),xe=a(597),ke=a(604),we=a(585),Ce=a(586),Pe=(a(338),Object(Te.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tab:{outline:"none !important"},actionTitles:{marginBottom:4},actionWidth:{width:240},layerInputItem:{marginBottom:8},layerInput:{width:60,height:36,borderRadius:"4px !important",textAlign:"center"},button:{minWidth:"32px !important",width:36,outline:"none"}}})));function je(e){var t=e.layer,a=e.layerIndex,n=e.nn_dispatch,i=Pe();return r.a.createElement(Re.a,{className:i.layerInputItem,item:!0},r.a.createElement(Ne.a,null,"Selection: Layer ",a+1),r.a.createElement(Re.a,{className:i.actionWidth,item:!0},r.a.createElement(Ne.a,{gutterBottom:!0},"Nodes"),r.a.createElement(ve.a,{defaultValue:t.units,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10,onChange:function(e,t){return function(e,t,a){console.log("onNodesChanges",e,t),a({type:ne.SET_NODES,layer:e,nodes:t})}(a,t,n)}})),r.a.createElement(Re.a,{item:!0},r.a.createElement(Le.a,{className:i.actionWidth},r.a.createElement(Ie.a,{id:"demo-simple-select-label"},"Activation Function"),r.a.createElement(xe.a,{value:10,onChange:null},r.a.createElement(ke.a,{value:10},"Ten"),r.a.createElement(ke.a,{value:20},"Twenty"),r.a.createElement(ke.a,{value:30},"Thirty")))),r.a.createElement(Re.a,{item:!0},r.a.createElement(Le.a,{className:i.actionWidth},r.a.createElement(Ie.a,{id:"demo-simple-select-label"},"Weight Initializer"),r.a.createElement(xe.a,{value:10,onChange:null},r.a.createElement(ke.a,{value:10},"Ten"),r.a.createElement(ke.a,{value:20},"Twenty"),r.a.createElement(ke.a,{value:30},"Thirty")))))}function De(){var e=Pe(),t=Se(),a=(t.state,t.dispatch,le()),n=a.nn_state,i=a.nn_dispatch;return r.a.createElement("div",{className:e.root},r.a.createElement(Ne.a,{variant:"h5",className:e.actionTitles},"Build"),r.a.createElement(we.a,null),r.a.createElement(Re.a,{container:!0,direction:"column"},r.a.createElement(je,{layer:n.layers[n.selectedLayerIndex],layerIndex:n.selectedLayerIndex,nn_dispatch:i}),r.a.createElement(Re.a,{item:!0},r.a.createElement(Ce.a,{color:"primary",variant:"outlined"},"Remove layer ",n.selectedLayerIndex+1)),r.a.createElement(Re.a,{item:!0},r.a.createElement(Ce.a,{color:"secondary",variant:"outlined"},"Add Layer"))))}var Ge=Object(Te.a)((function(e){return{root:{width:"80%"},headerText:{paddingLeft:e.spacing(0),paddingTop:e.spacing(7),paddingBottom:e.spacing(1),fontWeight:"600"},card:{marginTop:"4px",height:"100%"}}}));function Me(){var e=Ge(),t=Se(),a=t.state,n=(t.dispatch,le()),i=n.nn_state;n.nn_dispatch;return console.log("rere?",i),r.a.createElement(be.a,{in:a.stepper_state===f.VISUALIZE},r.a.createElement("div",{className:e.root},r.a.createElement(Ne.a,{className:e.headerText,variant:"h5"},"Toolbox"),r.a.createElement(ye.a,{className:e.card,variant:"outlined"},r.a.createElement(Ae.a,null,function(e){switch(e.model){case E.LINEAR_REGRESSION:return r.a.createElement("div",null,"TODO");case E.NEURAL_NETWORK_FF:return r.a.createElement(De,null);default:return r.a.createElement("div",null,"Same")}}(a)))))}var ze=function(){var e=le().nn_state;return console.log("rerere?",e),r.a.createElement(c.a,{className:"toolboxContainer"},r.a.createElement(Me,null))},Ue=a(592),Fe=a(593),Ke=a(594),Xe=a(5),We=a(590),He=a(605),Ye=a(599);a(247);var Be=a(118),Ve=a.n(Be),Ze=Object(Xe.a)((function(e){return{badge:{width:10,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}))(We.a),qe=Object(Te.a)((function(e){return{titleInner:{fontSize:42,fontWeight:300,marginTop:8},subtitle:{marginTop:20,marginBottom:72,fontWeight:300},large:{width:e.spacing(14),height:e.spacing(14)},avatarItem:{textAlign:"-webkit-center",width:188},avatarItemSelected:{width:e.spacing(14),height:e.spacing(14),boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 0px 6px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)",border:"solid 1px #3f51b5"},avatarLabel:{marginTop:20},avatarLabelSelected:{marginTop:20,fontWeight:500},recommend:{width:30},button:{marginBottom:e.spacing(1),marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}));function Je(e){var t=[];switch(e.stepper_state){case f.TASK:return Object.keys(d).map((function(e){return t.push({label:d[e],type:f.TASK})})),t;case f.DATASET:return Object.keys(m).map((function(e){return t.push({label:m[e],type:f.DATASET})})),t;case f.MODEL:return Object.keys(function(e){var t,a,n;switch(e){case d.CLASSIFICATION:return{KNN:(n=E).KNN,NEURAL_NETWORK_FF:n.NEURAL_NETWORK_FF};case d.REGRESSION:return{LINEAR_REGRESSION:(a=E).LINEAR_REGRESSION,POISSON_REGRESSION:a.POISSON_REGRESSION,ORDINAL_REGRESSION:a.ORDINAL_REGRESSION};case d.NATURAL_LANGUAGE:return{SENTIMENT_ANALYSIS:(t=E).SENTIMENT_ANALYSIS,ENTITY_RECOGNITION:t.ENTITY_RECOGNITION};default:return[]}}(e.task)).map((function(e){return t.push({label:E[e],type:f.MODEL})})),t;case f.PREPROCESSORS:return Object.keys(_).map((function(e){return t.push({label:_[e],type:f.PREPROCESSORS})})),t;default:return t}}function Qe(){var e=qe(),t=Se(),a=t.state,n=t.dispatch,i=function(e){return[a.task,a.dataset_category,a.sample_dataset,a.model].concat(Object(ae.a)(a.preprocessors)).includes(e)};function o(t){var a=t.avatar;return r.a.createElement(He.a,{alt:a.label,src:Ve.a,className:i(a.label)?e.avatarItemSelected:e.large,onClick:function(){return function(e,t){switch(e){case f.TASK:n({type:S.SET_TASK,task:t});break;case f.DATASET:n({type:S.SET_DATASET_CATEGORY,dataset_category:t});break;case f.MODEL:n({type:S.SET_MODEL,model:t});break;case f.PREPROCESSORS:n({type:S.TOGGLE_PREPROCESSOR,preprocessor:t})}}(a.type,a.label)}})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{className:e.titleInner,color:"textPrimary"},"Let's get started!"),r.a.createElement(Ne.a,{variant:"h6",className:e.subtitle},"Chat with Otto to get a ",a.stepper_state," recommendation."),r.a.createElement(Re.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:5},Je(a).map((function(t){return r.a.createElement(Re.a,{item:!0,className:e.avatarItem,key:t.label},(n=t.label,[a.task_otto,a.dataset_category_otto,a.sample_dataset_otto,a.model_otto].concat(Object(ae.a)(a.preprocessors_otto)).includes(n)?r.a.createElement(Ye.a,{title:"Recommended by Otto!",placement:"top"},r.a.createElement(Ze,{overlap:"circle",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:r.a.createElement("img",{className:e.recommend,src:"https://img.icons8.com/ultraviolet/80/000000/good-quality.png",alt:"R"})},r.a.createElement(o,{avatar:t}))):r.a.createElement(o,{avatar:t})),r.a.createElement(Ne.a,{color:"textPrimary",className:i(t.label)?e.avatarLabelSelected:e.avatarLabel},t.label));var n}))))}var $e=a(600),et=a(591),tt=a(598),at=a(601),nt=a(538),rt=Object(Te.a)((function(e){return{root:{width:"80%",marginLeft:110},stepLabel:{fontSize:19},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},headerText:{paddingLeft:e.spacing(0),paddingTop:e.spacing(7),paddingBottom:e.spacing(1),fontWeight:"600"},card:{marginTop:"4px"},optionLabel:{marginLeft:12,borderLeft:"1px solid #bdbdbd",paddingLeft:12,height:32,paddingTop:4}}}));var it=function(e){return e.stepper_finish?h.length:h.indexOf(e.stepper_state)};function ot(){var e=rt(),t=Se(),a=t.state,n=t.dispatch,i=["Task","Dataset","Model","Preprocessors","Visualize"],o=function(t){var n=null;switch(t.index){case 0:n=a.task;break;case 1:n=a.dataset_category;break;case 2:n=a.model;break;case 3:n=a.preprocessors.join(", ")}return null==n||it(a)<=t.index?null:r.a.createElement(Ne.a,{className:e.optionLabel},n)};return r.a.createElement("div",{className:e.root},r.a.createElement(Ne.a,{className:e.headerText,variant:"h5"},"Pipeline Architecture"),r.a.createElement(ye.a,{className:e.card,variant:"outlined"},r.a.createElement($e.a,{activeStep:it(a),orientation:"vertical"},i.map((function(e,t){return r.a.createElement(et.a,{key:e},r.a.createElement(tt.a,null,r.a.createElement(Ne.a,{variant:"h6"},e)),r.a.createElement(at.a,null,r.a.createElement(Ne.a,null,function(e){switch(e){case 0:return"Identify the machine learning task that describes your goal";case 1:return"Choose from provided datasets, or use your own";case 2:return"Select the model best equipped to unlock insights from your data";case 3:return"Optimize your data for machine learning";case 4:return"Fine tune and visualize your model";default:return"Unknown step"}}(t))),r.a.createElement(o,{index:t}))})))),it(a)===i.length&&r.a.createElement(nt.a,{square:!0,elevation:0,className:e.resetContainer},r.a.createElement(Ne.a,null,"All steps completed - you're finished"),r.a.createElement(Ce.a,{onClick:function(){n({type:S.HANDLE_RESET})},className:e.button},"Reset")))}var st=a(249),ct=a(250),lt=a(245),ut=a(244),pt=function(){function e(t){Object(L.a)(this,e),this.layers=t.layers,this.activation=t.activation,this.outputActivation=t.outputActivation,this.initializer=t.initializer,this.optimizer=t.optimizer,this.loss=t.loss}return Object(I.a)(e,[{key:"pushLayer",value:function(){var e=this.layers,t=e[e.length-2].units,a=new K(t);e.splice(e.length-1,0,a)}},{key:"popLayer",value:function(){var e=this.layers;e.splice(e.length-2,1)}}]),e}(),dt=function(e){Object(ct.a)(a,e);var t=Object(lt.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){return null},e}return Object(I.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.sigma,a=e.nodes;t.graph.nodes().forEach((function(e){var t=a.find((function(t){return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)}));if(null!=t){t.id;var n=Object(st.a)(t,["id"]);Object.assign(e,n)}})),t.refresh()}}]),a}(r.a.Component),Et=function(e,t,a){for(var n=0;n<e.length;n++)for(var r=e[n],i=r.id,o=0;o<t.length;o++){var s=t[o],c={id:"e_"+r.id+","+s.id,source:i,target:s.id,size:1-e.length*t.length/100};a.push(c)}},mt=function(e){var t,a=e.layers,n=0,r=Object(R.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value.numNodes;i>n&&(n=i)}}catch(o){r.e(o)}finally{r.f()}return n};function _t(){var e=le(),t=e.nn_state,a=e.nn_dispatch,n=new pt(t);console.log(t);var i=function(e,t){for(var a=e.layers,n=(mt(e),[]),r=[],i=[],o=0;o<a.length;o++){for(var s=a[o].units,c=.2*o,l=o===t?"#e63946":"#007ea7",u=.15-s/200,p=(2-(s-1)*u)/2,d=[],E=0;E<s;E++){var m={x:c,y:p+E*u,size:1,id:o+","+E,color:l,writable:!0};n.push(m),d.push(m)}i.length>0&&Et(i,d,r),i=d}return[n,r]}(n,t.selectedLayerIndex),o=Object(l.a)(i,2),s=o[0],c=o[1];return r.a.createElement(ut.a,{graph:{nodes:s,edges:c},style:{height:"95%",transform:"translate(-50%, -10px)"},onClickNode:function(e){return function(e,t){var a=Number(e.data.node.id.split(",")[0]);t({type:ne.SET_SELECTED_LAYER,layer:a})}(e,a)},settings:{maxNodeSize:10,maxEdgeSize:.3,defaultNodeColor:"#ec5148",clone:!0,renderer:"webgl"}},r.a.createElement(dt,{nodes:s}))}var ft=a(38),ht=[{x:100,y:200,z:200},{x:120,y:100,z:260},{x:170,y:300,z:400},{x:140,y:250,z:280},{x:150,y:400,z:500},{x:110,y:280,z:200}],Ot=[{x:200,y:260,z:240},{x:240,y:290,z:220},{x:190,y:290,z:250},{x:198,y:250,z:210},{x:180,y:280,z:260},{x:210,y:220,z:230}];function St(){return r.a.createElement(ft.d,{width:400,height:400,margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(ft.a,null),r.a.createElement(ft.f,{type:"number",dataKey:"x",name:"stature",unit:"cm"}),r.a.createElement(ft.g,{type:"number",dataKey:"y",name:"weight",unit:"kg"}),r.a.createElement(ft.h,{type:"number",dataKey:"z",range:[60,400],name:"score",unit:"km"}),r.a.createElement(ft.e,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(ft.b,null),r.a.createElement(ft.c,{name:"A school",data:ht,fill:"#8884d8",shape:"star"}),r.a.createElement(ft.c,{name:"B school",data:Ot,fill:"#82ca9d",shape:"triangle"}))}function gt(){switch(Se().state.model){case E.NEURAL_NETWORK_FF:return r.a.createElement(_t,null);case E.KNN:return r.a.createElement(St,null);default:return null}}var Tt=Object(Te.a)((function(e){return{rootExplanation:{width:"100%",textAlign:"center",paddingTop:e.spacing(1),boxShadow:"none",height:100},rootActions:{width:"100%",height:"100%",textAlign:"center",paddingTop:e.spacing(1),position:"relative"},title:{fontSize:"2vw",fontWeight:300,marginTop:-5},fullWidth:{width:"100%"},fullHeight:{height:"100%"},visualizerHeight:{height:"calc(100% - 100px)"}}}));var Nt=function(){var e=Tt(),t=["Task","Dataset","Model","Preprocessors","Visualize"],a=Se(),n=a.state,i=a.dispatch;return r.a.createElement(Re.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",className:e.fullHeight},r.a.createElement(Re.a,{item:!0,className:e.fullWidth},r.a.createElement(ye.a,{className:e.rootExplanation},r.a.createElement(Ae.a,null,r.a.createElement(Ne.a,{className:e.title,color:"primary"},"Build a machine learning pipeline with Otto")))),r.a.createElement(Re.a,{className:"".concat(e.fullWidth," ").concat(e.visualizerHeight),item:!0},r.a.createElement(ye.a,{className:e.rootActions,variant:"outlined"},r.a.createElement(Ae.a,{className:e.fullHeight},n.stepper_state===f.VISUALIZE?r.a.createElement(gt,null):r.a.createElement(Qe,null)),r.a.createElement(Ue.a,{style:{position:"absolute",bottom:"2px",display:"inline-block",width:"100%",left:0}},it(n)>0?r.a.createElement(Ce.a,{onClick:function(){i({type:S.STEPPER_HANDLE_PREVIOUS})},className:e.button,style:{float:"left"},startIcon:r.a.createElement(Fe.a,null)},t[it(n)-1]):null,r.a.createElement(Ce.a,{disabled:n.stepper_state!==f.PREPROCESSORS&&!Je(n).some((function(e){return t=e.label,[n.task,n.dataset_category,n.sample_dataset,n.model].concat(Object(ae.a)(n.preprocessors)).includes(t);var t})),variant:"contained",color:"primary",onClick:it(n)===t.length-1?function(){i({type:S.HANDLE_STEPPER_FINISH})}:function(){i({type:S.STEPPER_HANDLE_NEXT})},className:e.button,style:{float:"right"},endIcon:r.a.createElement(Ke.a,null)},it(n)===t.length-1?"Finish":t[it(n)+1])))))},bt=a(224),yt=function(e){for(var t=new bt,a=e.layers,n=0;n<a.length;n++){var r=a[n],i=void 0;i=0===n?At(r):n===a.length-1?vt(r,e):Rt(r,e),t.appendLine(i)}return t.toString()},At=function(e){var t=e.units;return"model.add(Input(shape=(".concat(t,",)))")},Rt=function(e,t){var a=e.units,n=t.activation,r=t.initializer;return"model.add(Dense(".concat(a,", activation='").concat(n,"', kernel_initializer='").concat(r,"'))")},vt=function(e,t){var a=e.units,n=t.outputActivation,r=t.initializer;return"model.add(Dense(".concat(a,", activation='").concat(n,"', kernel_initializer='").concat(r,"'))")},Lt=a(224),It=function(e,t){var a,n=new Lt;switch(n.append("import matplotlib.pyplot as plt \nimport numpy as np \nfrom sklearn.model_selection import train_test_split"),e.model){case E.KNN:n.appendLine("from sklearn import neighbors");break;case E.NEURAL_NETWORK_FF:n.appendLine("from tensorflow.keras import Sequential\nfrom tensorflow.keras.layers import Dense, Input");break;case E.LINEAR_REGRESSION:n.appendLine("from sklearn import linear_model\nfrom sklearn.metrics import mean_squared_error, r2_score");break;case E.ORDINAL_REGRESSION:n.appendLine("import mord\nfrom sklearn.metrics import accuracy_score");break;case E.POISSON_REGRESSION:n.appendLine("from sklearn import linear_model\nfrom sklearn.metrics import mean_poisson_deviance")}switch(e.preprocessors.includes(_.NORMALIZATION)&&n.appendLine("from sklearn.preprocessing import scale"),e.preprocessors.includes(_.PCA)&&n.appendLine("from sklearn.decomposition import PCA"),e.dataset_category){case m.SAMPLE:n.appendLine("from sklearn import datasets")}switch(n.appendLine(),e.dataset_category){case m.SAMPLE:n.appendLine((a=e.sample_dataset,"def loadData():\n    return datasets.load_".concat(a,"(return_X_y=True)\n")));break;case m.CUSTOM:n.appendLine("## Replace with your own dataset! Return X, y sets\ndef loadData():\n    return None, None\n    ")}switch(n.appendLine(),n.appendLine(xt(e)),n.appendLine(),n.appendLine("X, y = loadData()"),e.preprocessors.includes(_.NORMALIZATION)&&n.appendLine("X = scale(X)"),n.appendLine(kt(e)),n.appendLine("# Split the data into training/testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n    "),n.appendLine(),e.model){case E.KNN:n.appendLine("# we create an instance of Neighbours Classifier and fit the data.\nclf = neighbors.KNeighborsClassifier(NEIGHBORS)\nclf.fit(X, y)\n\n# Plot the decision boundary. For that, we will assign a color to each\n# point in the mesh [x_min, x_max]x[y_min, y_max].\nx_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1\ny_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1\nxx, yy = np.meshgrid(np.arange(x_min, x_max, .02),\n                        np.arange(y_min, y_max, .02))\nZ = clf.predict(np.c_[xx.ravel(), yy.ravel()])\n\n# Put the result into a color plot\ncmap = 'coolwarm'\nZ = Z.reshape(xx.shape)\nplt.figure()\nplt.contourf(xx, yy, Z, cmap=cmap, alpha=0.7)\n\n# Plot the training points\nplt.scatter(X[:, 0], X[:, 1], c=y, cmap=cmap,\n            edgecolor='k', s=20)\nplt.xlim(xx.min(), xx.max())\nplt.ylim(yy.min(), yy.max())\nplt.title(\"Classification (k = %i)\"\n            % (NEIGHBORS))\n\nplt.show()\n");break;case E.NEURAL_NETWORK_FF:n.appendLine(function(e){var t=new bt;return t.appendLine("model = Sequential()"),t.append(yt(e)),t.appendLine("model.compile(optimizer='".concat(e.optimizer,"', loss='").concat(e.loss,"')")),t.appendLine("model.fit(X_train, y_train, batch_size=32, epochs=100)"),t.toString()}(t));break;case E.LINEAR_REGRESSION:n.appendLine("# Create linear regression object\nregr = linear_model.LinearRegression()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The mean squared error\nprint('Mean squared error: %.2f'\n        % mean_squared_error(y_test, y_pred))\n# The coefficient of determination: 1 is perfect prediction\nprint('Coefficient of determination: %.2f'\n        % r2_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Linear Regression Model')\n\nplt.show()\n");break;case E.ORDINAL_REGRESSION:n.appendLine("# Create linear regression object\nregr = mord.OrdinalRidge()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The accuracy\nprint('Accuracy: %.2f'\n        % accuracy_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Ordinal Regression Model')\n\nplt.show()\n");break;case E.POISSON_REGRESSION:n.appendLine("# Create linear regression object\nregr = linear_model.PoissonRegressor()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The mean poisson deviance\nprint('Mean poisson deviance: %.2f'\n        % mean_poisson_deviance(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Poisson Regression Model')\n\nplt.show()\n")}return n.toString()},xt=function(e){if(e.preprocessors.includes(_.PCA))return function(e){return"COMPONENTS = ".concat(e)}(function(e){switch(e){case E.KNN:return 2;case E.NEURAL_NETWORK_FF:return"None";case E.ORDINAL_REGRESSION:case E.POISSON_REGRESSION:case E.LINEAR_REGRESSION:return 1}}(e.model));switch(e.model){case E.KNN:return"NEIGHBORS = ".concat(7);case E.LINEAR_REGRESSION:return"FEATURE_COLUMN = ".concat(5)}},kt=function(e){if(e.preprocessors.includes(_.PCA))return"X = PCA(COMPONENTS).fit_transform(X)";switch(e.model){case E.KNN:return"X = X[:, :2]";case E.ORDINAL_REGRESSION:case E.POISSON_REGRESSION:case E.LINEAR_REGRESSION:return"X = X[:, np.newaxis, FEATURE_COLUMN]"}};var wt=function(){var e=Se().state,t=le().nn_state;return r.a.createElement("textarea",{value:It(e,t),style:{width:"100%",height:"100%",fontSize:"11px"}})};var Ct=function(){return le().nn_state,console.log("wat"),r.a.createElement(Re.a,{container:!0,style:{height:"100%"}},r.a.createElement(Re.a,{item:!0,className:"visualizerContainer"},r.a.createElement(Nt,null)),r.a.createElement(Re.a,{item:!0,className:"outerContainer codeContainer"},r.a.createElement(wt,null)))};var Pt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:"summaryContainer",lg:2},r.a.createElement(ot,null)),r.a.createElement(ce,null,r.a.createElement(ge.a,{className:"mainColumnContainer"},r.a.createElement(Ct,null)),r.a.createElement(ge.a,{className:"rightColumnContainer",lg:3},r.a.createElement(ze,null))))};a(158);var jt=function(){return r.a.createElement(s.a,{className:"vh-100",fluid:!0},r.a.createElement(Oe,null,r.a.createElement(c.a,{className:"contentContainer"},r.a.createElement(Pt,null)),r.a.createElement(de,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(536);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(jt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){}},[[285,1,2]]]);
//# sourceMappingURL=main.2b1616a3.chunk.js.map