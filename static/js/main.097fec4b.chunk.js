(this["webpackJsonpotto-app"]=this["webpackJsonpotto-app"]||[]).push([[0],{106:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},217:function(e,t,n){e.exports=n.p+"static/media/otto.568bae44.jpeg"},267:function(e,t,n){e.exports=n(519)},272:function(e,t,n){},274:function(e,t,n){},302:function(e,t){},304:function(e,t){},319:function(e){e.exports=JSON.parse('{"task":"W3DWC6KYX3DL53X2U433MOIGXUJ7LWVC","task_tester":"ELEJHTSSVOAGTPMPLOE3BV62RGCO6CH7","model":"THQBJN6MWCUGPGUIABFIGQTOCKPDCMHQ","nn":"U5MAH6LLYZWKGMBJGCGCYROYSELNII47"}')},510:function(e,t){},512:function(e,t){},519:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(16),i=n.n(s),o=(n(272),n(563)),c=n(556),l=(n(273),n(274),n(86),n(65)),u=n(12),p=n(67),m=Object.freeze({CLASSIFICATION:"Classification",REGRESSION:"Regression",NATURAL_LANGUAGE:"Natural Language"}),d=Object.freeze({LINEAR_REGRESSION:"Linear Regression",POISSON_REGRESSION:"Poisson Regression",ORDINAL_REGRESSION:"Ordinal Regression",KNN:"K-Nearest Neighbors",NEURAL_NETWORK_FF:"Feedforward Neural Network",SENTIMENT_ANALYSIS:"Sentiment Analysis",ENTITY_RECOGNITION:"Entity Recognition"}),E=Object.freeze({CUSTOM:"Custom",SAMPLE:"Sample"}),_=(Object.freeze({IRIS:"iris",BOSTON:"boston"}),Object.freeze({PCA:"PCA",NORMALIZATION:"Normalization"})),f=Object.freeze({TASK:"task",DATASET:"dataset",MODEL:"model",PREPROCESSORS:"preprocessors",VISUALIZE:"visualize"}),O=[f.TASK,f.DATASET,f.MODEL,f.PREPROCESSORS,f.VISUALIZE],h=function(){return{task:m.CLASSIFICATION,task_otto:null,model:d.NEURAL_NETWORK_FF,model_otto:null,dataset_category:E.CUSTOM,dataset_category_otto:null,sample_dataset:null,sample_dataset_otto:null,preprocessors:[],preprocessors_otto:[],stepper_state:f.VISUALIZE,stepper_finish:!1}},S=Object.freeze({SET_TASK:"SET_TASK",SET_MODEL:"SET_MODEL",SET_DATASET_CATEGORY:"SET_DATASET_CATEGORY",SET_SAMPLE_DATASET:"SET_SAMPLE_DATASET",SET_TASK_OTTO:"SET_TASK_OTTO",SET_MODEL_OTTO:"SET_MODEL_OTTO",SET_DATASET_CATEGORY_OTTO:"SET_DATASET_CATEGORY_OTTO",SET_SAMPLE_DATASET_OTTO:"SET_SAMPLE_DATASET_OTTO",TOGGLE_PREPROCESSOR:"TOGGLE_PREPROCESSOR",TOGGLE_PREPROCESSOR_OTTO:"TOGGLE_PREPROCESSOR_OTTO",STEPPER_HANDLE_NEXT:"STEPPER_HANDLE_NEXT",STEPPER_HANDLE_PREVIOUS:"STEPPER_HANDLE_PREVIOUS",HANDLE_STEPPER_FINISH:"HANDLE_STEPPER_FINISH",HANDLE_RESET:"HANDLE_RESET"}),g=n(217),T=n.n(g),N=function(e){return["Sounds cool!","I'd recommend a ".concat(e," model to help you explore that idea")]},b=function(e){return["In that case, I think a ".concat(e," model would be perfect")]},A=n(13),R=n.n(A),y=n(57),v=n(24),L=n(25),I=n(35),x={task_reg:m.REGRESSION,task_class:m.CLASSIFICATION,task_nlp:m.NATURAL_LANGUAGE},k={"poisson:poisson":d.POISSON_REGRESSION,"ordinal:ordinal":d.ORDINAL_REGRESSION},w={"knn:knn":d.KNN},C=function(){var e=Object(v.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.message(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(e){var t=e.intents,n=null;if(t.length>0){var a=t[0].name;n=x[a]}return n},j=function(e){var t=e.entities,n=null;"subject:subject"in t&&(n=t["subject:subject"][0].body);return n},D=function(){var e=Object(v.a)(R.a.mark((function e(t,n){var a,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,t);case 2:if(a=e.sent,r=Object.keys(a.entities),0!=(s=r.map((function(e){return k[e]}))).length){e.next=7;break}return e.abrupt("return",d.LINEAR_REGRESSION);case 7:return e.abrupt("return",s[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(R.a.mark((function e(t,n){var a,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,t);case 2:if(a=e.sent,r=Object.keys(a.entities),0!=(s=r.map((function(e){return w[e]}))).length){e.next=7;break}return e.abrupt("return",d.NEURAL_NETWORK_FF);case 7:return e.abrupt("return",s[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=Object.freeze({ADAM:"adam"}),z=Object.freeze({BINARY_CLASS:"binary_crossentropy",MULTI_CLASS:"categorical_crossentropy"}),U=Object.freeze({RELU:"relu",SIGMOID:"sigmoid",TANH:"tanh",SOFTMAX:"softmax"}),F=Object.freeze({GLOROT:"glorot_uniform",RANDOM:"random_uniform",HE:"he_uniform",LECUN:"lecun_uniform"}),K=(Object.freeze({INPUT:"Input",DENSE:"Dense"}),function e(t){Object(L.a)(this,e),this.units=t}),X=function(){var e=Object(v.a)(R.a.mark((function e(t,n,a,r,s,i){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.stepper_state,e.next=e.t0===f.TASK?3:e.t0===f.MODEL?6:e.t0===f.VISUALIZE?7:9;break;case 3:return e.next=5,H(t,n.task,a,r);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",W(t,n.model,a,r));case 7:if(a.model!==d.NEURAL_NETWORK_FF){e.next=9;break}return e.abrupt("return",B(t,n.nn,s,i));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,i){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(R.a.mark((function e(t,n,a,r){var s,i,o,c,u,p,m,d,_;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("taskStep"),e.next=3,C(n,t);case 3:if(s=e.sent,console.log(s),i=j(s),console.log(i),i||t,o=[null,null,null,null],c=Object(l.a)(o,4),u=c[0],p=c[1],m=c[2],d=c[3],console.log(u),console.log(m),console.log(d),_=u||P(s),console.log(_),m&&(r({type:S.SET_DATASET_CATEGORY,dataset_category:E.SAMPLE}),r({type:S.SET_DATASET_CATEGORY_OTTO,dataset_category:E.SAMPLE}),r({type:S.SET_SAMPLE_DATASET,sample_dataset:m}),r({type:S.SET_SAMPLE_DATASET_OTTO,sample_dataset:m}),r({type:S.SET_MODEL,model:p}),r({type:S.SET_MODEL_OTTO,model:p})),!_){e.next=19;break}return r({type:S.SET_TASK,task:_}),r({type:S.SET_TASK_OTTO,task:_}),e.abrupt("return",N(_));case 19:return e.abrupt("return",["Here are some pointers to help you figure out what type of machine learning task to select","Regression is used to model numerical variables, such as stock prices or infection rates, while classification predicts categorical outcomes, like whether an image is a cat or a dog or if a candidate will win or not","Natural language processing can do things like identify structures in text and figure out the tone behind an expression","Whenever you\u2019re ready, pick the task that seems like the best fit"]);case 20:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(R.a.mark((function e(t,n,a,r){var s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("modelStep"),s=a.task,i=a.model,console.log("Task: \n",s),console.log("Model: \n",i),i){e.next=22;break}e.t0=s,e.next=e.t0===m.REGRESSION?9:e.t0===m.CLASSIFICATION?13:20;break;case 9:return e.next=11,D(t,n);case 11:return i=e.sent,e.abrupt("break",20);case 13:return e.next=15,M(t,n);case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1=d.NEURAL_NETWORK_FF;case 18:return i=e.t1,e.abrupt("break",20);case 20:r({type:S.SET_MODEL,model:i}),r({type:S.SET_MODEL_OTTO,model:i});case 22:return e.abrupt("return",b(i));case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(R.a.mark((function e(t,n,a,r){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Architecture step: ",a),r({layers:[new K(3)],activation:U.RELU,outputActivation:U.SOFTMAX,initializer:F.GLOROT,optimizer:G.ADAM,loss:z.BINARY_CLASS});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Y=function(e){},V=function(e){var t=[];switch(t.push(["Now that we have our machine learning task and dataset figured out, the next step is to select an appropriate model"]),e.task){case m.CLASSIFICATION:t.push(["Could you describe the dataset in more detail?"]);break;case m.REGRESSION:t.push(["Could you describe the dependent variable in more detail?"]);break;case m.NATURAL_LANGUAGE:t.push(["Entity recognition is useful for extracting key information from text (like phone numbers, album names, and times)","While sentiment analysis classifies expressions by their polarity (positive, negative, or neutral)"])}return t},Z=function(e){return["Based on what you've told me, I've gone ahead and setup some data preprocessors to help optimize the learning process"]},q=function(e){if(e.model===d.NEURAL_NETWORK_FF)return["Finally, we're ready to build and configure our neural network!","I've made a basic feedforward network with 5 hidden layers and standard activations / initializers","You can play with the model and customize it, or tell me what changes to make"]},J=n(281),Q=J.Wit,$=(J.log,n(319)),ee=function(){function e(t){var n=this;Object(L.a)(this,e),this.sayMessages=function(){var e=Object(v.a)(R.a.mark((function e(t){var a,r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.isArray(t)||(t=[t]),t=t.flat(1),a=Object(y.a)(t),e.prev=3,s=R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=r.value)){e.next=5;break}return e.next=4,new Promise((function(e){return setTimeout(e,te(t))}));case 4:n.say(t);case 5:case"end":return e.stop()}}),e)})),a.s();case 6:if((r=a.n()).done){e.next=10;break}return e.delegateYield(s(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),a.e(e.t1);case 15:return e.prev=15,a.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUserMessage=function(){var e=Object(v.a)(R.a.mark((function e(t,a,r,s,i){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementsByClassName("rcw-sender")[0].message.value="",console.log("handleUserMessage in Conversation: ".concat(t)),console.log("State: ",a),e.t0=n,e.next=6,X(t,n.wits,a,r,s,i);case 6:return e.t1=e.sent,e.next=9,e.t0.sayMessages.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),this.handleStateAdvance=function(e){console.log("State has been advanced!"),console.log("State: ",e),n.sayMessages(function(e){switch(e.stepper_state){case f.DATASET:return Y(e);case f.MODEL:return V(e);case f.PREPROCESSORS:return Z(e);case f.VISUALIZE:return q(e)}}(e))},this.say=t,this.ottoTask=new Q({accessToken:$.task_tester}),this.ottoModel=new Q({accessToken:$.model}),this.ottoNN=new Q({accessToken:$.nn}),this.wits={task:this.ottoTask,model:this.ottoModel,nn:this.ottoNN}}return Object(I.a)(e,[{key:"render",value:function(){return null}}]),e}();function te(e){e.length;return 100}var ne={layers:[new K(3),new K(5),new K(5),new K(5),new K(5),new K(2)],activation:U.RELU,outputActivation:U.SOFTMAX,initializer:F.GLOROT,optimizer:G.ADAM,loss:z.BINARY_CLASS},ae=Object(a.createContext)(ne),re=Object(a.createContext)((function(){return null}));function se(e,t){return t.type,e}var ie=function(e){var t=e.children,n=Object(a.useReducer)(se,ne),s=Object(l.a)(n,2),i=s[0],o=s[1];return r.a.createElement(ae.Provider,{value:i},r.a.createElement(re.Provider,{value:o},t))},oe=function(){return{nn_state:Object(a.useContext)(ae),nn_dispatch:Object(a.useContext)(re)}},ce=new ee(p.addResponseMessage);function le(){Object(p.deleteMessages)(),ce.sayMessages(["Hey there!","What would you like to do today?"])}var ue=function(){var e=Oe(),t=e.state,n=e.dispatch,s=oe(),i=s.nn_state,o=s.nn_dispatch;return Object(a.useEffect)((function(){Object(p.toggleWidget)(),le()}),[]),r.a.createElement(p.Widget,{handleSubmit:function(e){ce.handleUserMessage(e,t,n,i,o)},launcher:function(){return null},subtitle:"",title:"Otto",titleAvatar:T.a})},pe=h(),me=Object(a.createContext)(pe),de=Object(a.createContext)((function(){return null})),Ee=O.length;function _e(e,t){var n=function(){return O.indexOf(e.stepper_state)};switch(t.type){case S.SET_TASK:return Object(u.a)(Object(u.a)({},e),{},{task:t.task});case S.SET_DATASET_CATEGORY:return Object(u.a)(Object(u.a)({},e),{},{dataset_category:t.dataset_category});case S.SET_MODEL:return Object(u.a)(Object(u.a)({},e),{},{model:t.model});case S.SET_SAMPLE_DATASET:return Object(u.a)(Object(u.a)({},e),{},{sample_dataset:t.sample_dataset});case S.SET_TASK_OTTO:return Object(u.a)(Object(u.a)({},e),{},{task_otto:t.task});case S.SET_DATASET_CATEGORY_OTTO:return Object(u.a)(Object(u.a)({},e),{},{dataset_category_otto:t.dataset_category});case S.SET_MODEL_OTTO:return Object(u.a)(Object(u.a)({},e),{},{model_otto:t.model});case S.SET_SAMPLE_DATASET_OTTO:return Object(u.a)(Object(u.a)({},e),{},{sample_dataset_otto:t.sample_dataset});case S.TOGGLE_PREPROCESSOR:var a=e.preprocessors;return a.includes(t.preprocessor)?a=a.filter((function(e){return e!==t.preprocessor})):a.push(t.preprocessor),Object(u.a)(Object(u.a)({},e),{},{preprocessors:a});case S.TOGGLE_PREPROCESSOR_OTTO:var r=e.preprocessors_otto;return r=r.includes(t.preprocessor)?r.filter((function(e){return e!==t.preprocessor})):r.push(t.preprocessor),Object(u.a)(Object(u.a)({},e),{},{preprocessors_otto:r});case S.STEPPER_HANDLE_NEXT:var s=Object(u.a)(Object(u.a)({},e),{},{stepper_state:Ee===n()?Ee:O[n()+1]});return function(e){ce.handleStateAdvance(e)}(s),s;case S.STEPPER_HANDLE_PREVIOUS:return Object(u.a)(Object(u.a)({},e),{},{stepper_state:O[O.indexOf(e.stepper_state)-1],stepper_finish:!1});case S.HANDLE_STEPPER_FINISH:return Object(u.a)(Object(u.a)({},e),{},{stepper_finish:!0});case S.HANDLE_RESET:return le(),h();default:return e}}var fe=function(e){var t=e.children,n=Object(a.useReducer)(_e,pe),s=Object(l.a)(n,2),i=s[0],o=s[1];return r.a.createElement(me.Provider,{value:i},r.a.createElement(de.Provider,{value:o},t))},Oe=function(){return{state:Object(a.useContext)(me),dispatch:Object(a.useContext)(de)}},he=n(562),Se=n(549),ge=n(553),Te=n(552),Ne=n(554),be=n(555),Ae=n(551),Re=n(564),ye=n(223),ve=n.n(ye),Le=n(218),Ie=n.n(Le),xe=Object(Se.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tab:{outline:"none !important"},layerInputItem:{marginBottom:8},layerInput:{width:60,height:36,borderRadius:"4px !important",textAlign:"center"},button:{minWidth:"32px !important",width:36,outline:"none"}}}));function ke(e){var t=e.layer,n=xe();return r.a.createElement(Ae.a,{className:n.layerInputItem,item:!0},r.a.createElement(Ae.a,{container:!0,direction:"row"},r.a.createElement(Ae.a,{item:!0},r.a.createElement(Re.a,{className:n.button,disableElevation:!0,variant:"contained",color:"primary"},r.a.createElement(ve.a,null))),r.a.createElement(Ae.a,{item:!0},r.a.createElement(Ie.a,{className:n.layerInput,min:1,max:10,value:t.units}))))}function we(){var e=xe(),t=Oe(),n=(t.state,t.dispatch,oe()),a=n.nn_state;n.nn_dispatch;return r.a.createElement("div",{className:e.root},"Build",r.a.createElement(Ae.a,{container:!0,direction:"column"},a.layers.map((function(e){return r.a.createElement(ke,{layer:e})})),r.a.createElement(ke,{layer:{units:0}})))}var Ce=Object(Se.a)((function(e){return{root:{width:"80%"},headerText:{paddingLeft:e.spacing(0),paddingTop:e.spacing(7),paddingBottom:e.spacing(1),fontWeight:"600"},card:{marginTop:"4px",height:"100%"}}}));function Pe(){var e=Ce(),t=Oe(),n=t.state;t.dispatch;return r.a.createElement(Te.a,{in:n.stepper_state===f.VISUALIZE},r.a.createElement("div",{className:e.root},r.a.createElement(ge.a,{className:e.headerText,variant:"h5"},"Toolbox"),r.a.createElement(Ne.a,{className:e.card,variant:"outlined"},r.a.createElement(be.a,null,function(e){switch(e.model){case d.LINEAR_REGRESSION:return r.a.createElement("div",null,"TODO");case d.NEURAL_NETWORK_FF:return r.a.createElement(we,null);default:return r.a.createElement("div",null,"Same")}}(n)))))}var je=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{className:"toolboxContainer"},r.a.createElement(Pe,null)))},De=n(46),Me=n(559),Ge=n(560),ze=n(561),Ue=n(8),Fe=n(557),Ke=n(569),Xe=n(565);n(236);var He=n(106),We=n.n(He),Be=Object(Ue.a)((function(e){return{badge:{width:10,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}))(Fe.a),Ye=Object(Se.a)((function(e){return{titleInner:{fontSize:42,fontWeight:300,marginTop:8},subtitle:{marginTop:20,marginBottom:72,fontWeight:300},large:{width:e.spacing(14),height:e.spacing(14)},avatarItem:{textAlign:"-webkit-center",width:188},avatarItemSelected:{width:e.spacing(14),height:e.spacing(14),boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 0px 6px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)",border:"solid 1px #3f51b5"},avatarLabel:{marginTop:20},avatarLabelSelected:{marginTop:20,fontWeight:500},recommend:{width:30},button:{marginBottom:e.spacing(1),marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}));function Ve(e){var t=[];switch(e.stepper_state){case f.TASK:return Object.keys(m).map((function(e){return t.push({label:m[e],type:f.TASK})})),t;case f.DATASET:return Object.keys(E).map((function(e){return t.push({label:E[e],type:f.DATASET})})),t;case f.MODEL:return Object.keys(function(e){var t,n,a;switch(e){case m.CLASSIFICATION:return{KNN:(a=d).KNN,NEURAL_NETWORK_FF:a.NEURAL_NETWORK_FF};case m.REGRESSION:return{LINEAR_REGRESSION:(n=d).LINEAR_REGRESSION,POISSON_REGRESSION:n.POISSON_REGRESSION,ORDINAL_REGRESSION:n.ORDINAL_REGRESSION};case m.NATURAL_LANGUAGE:return{SENTIMENT_ANALYSIS:(t=d).SENTIMENT_ANALYSIS,ENTITY_RECOGNITION:t.ENTITY_RECOGNITION};default:return[]}}(e.task)).map((function(e){return t.push({label:d[e],type:f.MODEL})})),t;case f.PREPROCESSORS:return Object.keys(_).map((function(e){return t.push({label:_[e],type:f.PREPROCESSORS})})),t;default:return t}}function Ze(){var e=Ye(),t=Oe(),n=t.state,a=t.dispatch,s=function(e){return[n.task,n.dataset_category,n.sample_dataset,n.model].concat(Object(De.a)(n.preprocessors)).includes(e)};function i(t){var n=t.avatar;return r.a.createElement(Ke.a,{alt:n.label,src:We.a,className:s(n.label)?e.avatarItemSelected:e.large,onClick:function(){return function(e,t){switch(e){case f.TASK:a({type:S.SET_TASK,task:t});break;case f.DATASET:a({type:S.SET_DATASET_CATEGORY,dataset_category:t});break;case f.MODEL:a({type:S.SET_MODEL,model:t});break;case f.PREPROCESSORS:a({type:S.TOGGLE_PREPROCESSOR,preprocessor:t})}}(n.type,n.label)}})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:e.titleInner,color:"textPrimary"},"Let's get started!"),r.a.createElement(ge.a,{variant:"h6",className:e.subtitle},"Chat with Otto to get a ",n.stepper_state," recommendation."),r.a.createElement(Ae.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:5},Ve(n).map((function(t){return r.a.createElement(Ae.a,{item:!0,className:e.avatarItem,key:t.label},(a=t.label,[n.task_otto,n.dataset_category_otto,n.sample_dataset_otto,n.model_otto].concat(Object(De.a)(n.preprocessors_otto)).includes(a)?r.a.createElement(Xe.a,{title:"Recommended by Otto!",placement:"top"},r.a.createElement(Be,{overlap:"circle",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:r.a.createElement("img",{className:e.recommend,src:"https://img.icons8.com/ultraviolet/80/000000/good-quality.png",alt:"R"})},r.a.createElement(i,{avatar:t}))):r.a.createElement(i,{avatar:t})),r.a.createElement(ge.a,{color:"textPrimary",className:s(t.label)?e.avatarLabelSelected:e.avatarLabel},t.label));var a}))))}var qe=n(567),Je=n(558),Qe=n(566),$e=n(568),et=n(520),tt=Object(Se.a)((function(e){return{root:{width:"80%",marginLeft:110},stepLabel:{fontSize:19},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},headerText:{paddingLeft:e.spacing(0),paddingTop:e.spacing(7),paddingBottom:e.spacing(1),fontWeight:"600"},card:{marginTop:"4px"},optionLabel:{marginLeft:12,borderLeft:"1px solid #bdbdbd",paddingLeft:12,height:32,paddingTop:4}}}));var nt=function(e){return e.stepper_finish?O.length:O.indexOf(e.stepper_state)};function at(){var e=tt(),t=Oe(),n=t.state,a=t.dispatch,s=["Task","Dataset","Model","Preprocessors","Visualize"],i=function(t){var a=null;switch(t.index){case 0:a=n.task;break;case 1:a=n.dataset_category;break;case 2:a=n.model;break;case 3:a=n.preprocessors.join(", ")}return null==a||nt(n)<=t.index?null:r.a.createElement(ge.a,{className:e.optionLabel},a)};return r.a.createElement("div",{className:e.root},r.a.createElement(ge.a,{className:e.headerText,variant:"h5"},"Pipeline Architecture"),r.a.createElement(Ne.a,{className:e.card,variant:"outlined"},r.a.createElement(qe.a,{activeStep:nt(n),orientation:"vertical"},s.map((function(e,t){return r.a.createElement(Je.a,{key:e},r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{variant:"h6"},e)),r.a.createElement($e.a,null,r.a.createElement(ge.a,null,function(e){switch(e){case 0:return"Identify the machine learning task that describes your goal";case 1:return"Choose from provided datasets, or use your own";case 2:return"Select the model best equipped to unlock insights from your data";case 3:return"Optimize your data for machine learning";case 4:return"Fine tune and visualize your model";default:return"Unknown step"}}(t))),r.a.createElement(i,{index:t}))})))),nt(n)===s.length&&r.a.createElement(et.a,{square:!0,elevation:0,className:e.resetContainer},r.a.createElement(ge.a,null,"All steps completed - you're finished"),r.a.createElement(Re.a,{onClick:function(){a({type:S.HANDLE_RESET})},className:e.button},"Reset")))}var rt=n(234),st=function(){function e(t){Object(L.a)(this,e),this.layers=t.layers,this.activation=t.activation,this.outputActivation=t.outputActivation,this.initializer=t.initializer,this.optimizer=t.optimizer,this.loss=t.loss}return Object(I.a)(e,[{key:"pushLayer",value:function(){var e=this.layers,t=e[e.length-2].units,n=new K(t);e.splice(e.length-1,0,n)}},{key:"popLayer",value:function(){var e=this.layers;e.splice(e.length-2,1)}}]),e}(),it=function(e,t,n){for(var a=0;a<e.length;a++)for(var r=e[a],s=r.id,i=0;i<t.length;i++){var o=t[i],c={id:"e_"+r.id+","+o.id,source:s,target:o.id,size:1-e.length*t.length/100};n.push(c)}},ot=function(e){var t,n=e.layers,a=0,r=Object(y.a)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value.numNodes;s>a&&(a=s)}}catch(i){r.e(i)}finally{r.f()}return a};function ct(){console.log("Visualizing the NN");var e=oe(),t=e.nn_state;e.nn_dispatch;console.log("NN state",t);var n,a=function(e,t){for(var n=e.layers,a=(ot(e),{}),r=[],s=[],i=[],o=0;o<n.length;o++){for(var c=n[o].units,l=.2*o,u=.15-c/200,p=(2-(c-1)*u)/2,m=[],d=0;d<c;d++){var E={x:l,y:p+d*u,size:1,id:o+","+d};r.push(E),m.push(E)}i.length>0&&it(i,m,s),i=m}return a.nodes=r,a.edges=s,a}(new st(t));return n=a,r.a.createElement(rt.a,{graph:n,style:{height:"95%",transform:"translate(-50%, -10px)"},settings:{maxNodeSize:10,maxEdgeSize:.3,defaultNodeColor:"#ec5148",clone:!1,enableHovering:!0,rescaleIgnoreSize:!0}})}var lt=n(31),ut=[{x:100,y:200,z:200},{x:120,y:100,z:260},{x:170,y:300,z:400},{x:140,y:250,z:280},{x:150,y:400,z:500},{x:110,y:280,z:200}],pt=[{x:200,y:260,z:240},{x:240,y:290,z:220},{x:190,y:290,z:250},{x:198,y:250,z:210},{x:180,y:280,z:260},{x:210,y:220,z:230}];function mt(){return r.a.createElement(lt.d,{width:400,height:400,margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(lt.a,null),r.a.createElement(lt.f,{type:"number",dataKey:"x",name:"stature",unit:"cm"}),r.a.createElement(lt.g,{type:"number",dataKey:"y",name:"weight",unit:"kg"}),r.a.createElement(lt.h,{type:"number",dataKey:"z",range:[60,400],name:"score",unit:"km"}),r.a.createElement(lt.e,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(lt.b,null),r.a.createElement(lt.c,{name:"A school",data:ut,fill:"#8884d8",shape:"star"}),r.a.createElement(lt.c,{name:"B school",data:pt,fill:"#82ca9d",shape:"triangle"}))}function dt(){switch(Oe().state.model){case d.NEURAL_NETWORK_FF:return r.a.createElement(ct,null);case d.KNN:return r.a.createElement(mt,null);default:return null}}var Et=Object(Se.a)((function(e){return{rootExplanation:{width:"100%",textAlign:"center",paddingTop:e.spacing(1),boxShadow:"none",height:100},rootActions:{width:"100%",height:"100%",textAlign:"center",paddingTop:e.spacing(1),position:"relative"},title:{fontSize:"2vw",fontWeight:300,marginTop:-5},fullWidth:{width:"100%"},fullHeight:{height:"100%"},visualizerHeight:{height:"calc(100% - 100px)"}}}));var _t=function(){var e=Et(),t=["Task","Dataset","Model","Preprocessors","Visualize"],n=Oe(),a=n.state,s=n.dispatch;return r.a.createElement(Ae.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",className:e.fullHeight},r.a.createElement(Ae.a,{item:!0,className:e.fullWidth},r.a.createElement(Ne.a,{className:e.rootExplanation},r.a.createElement(be.a,null,r.a.createElement(ge.a,{className:e.title,color:"primary"},"Build a machine learning pipeline with Otto")))),r.a.createElement(Ae.a,{className:"".concat(e.fullWidth," ").concat(e.visualizerHeight),item:!0},r.a.createElement(Ne.a,{className:e.rootActions,variant:"outlined"},r.a.createElement(be.a,{className:e.fullHeight},a.stepper_state===f.VISUALIZE?r.a.createElement(dt,null):r.a.createElement(Ze,null)),r.a.createElement(Me.a,{style:{position:"absolute",bottom:"2px",display:"inline-block",width:"100%",left:0}},nt(a)>0?r.a.createElement(Re.a,{onClick:function(){s({type:S.STEPPER_HANDLE_PREVIOUS})},className:e.button,style:{float:"left"},startIcon:r.a.createElement(Ge.a,null)},t[nt(a)-1]):null,r.a.createElement(Re.a,{disabled:a.stepper_state!==f.PREPROCESSORS&&!Ve(a).some((function(e){return t=e.label,[a.task,a.dataset_category,a.sample_dataset,a.model].concat(Object(De.a)(a.preprocessors)).includes(t);var t})),variant:"contained",color:"primary",onClick:nt(a)===t.length-1?function(){s({type:S.HANDLE_STEPPER_FINISH})}:function(){s({type:S.STEPPER_HANDLE_NEXT})},className:e.button,style:{float:"right"},endIcon:r.a.createElement(ze.a,null)},nt(a)===t.length-1?"Finish":t[nt(a)+1])))))},ft=n(212),Ot=function(e){for(var t=new ft,n=e.layers,a=0;a<n.length;a++){var r=n[a],s=void 0;s=0===a?ht(r):a===n.length-1?gt(r,e):St(r,e),t.appendLine(s)}return t.toString()},ht=function(e){var t=e.units;return"model.add(Input(shape=(".concat(t,",)))")},St=function(e,t){var n=e.units,a=t.activation,r=t.initializer;return"model.add(Dense(".concat(n,", activation='").concat(a,"', kernel_initializer='").concat(r,"'))")},gt=function(e,t){var n=e.units,a=t.outputActivation,r=t.initializer;return"model.add(Dense(".concat(n,", activation='").concat(a,"', kernel_initializer='").concat(r,"'))")},Tt=n(212),Nt=function(e,t){var n,a=new Tt;switch(a.append("import matplotlib.pyplot as plt \nimport numpy as np \nfrom sklearn.model_selection import train_test_split"),e.model){case d.KNN:a.appendLine("from sklearn import neighbors");break;case d.NEURAL_NETWORK_FF:a.appendLine("from tensorflow.keras import Sequential\nfrom tensorflow.keras.layers import Dense, Input");break;case d.LINEAR_REGRESSION:a.appendLine("from sklearn import linear_model\nfrom sklearn.metrics import mean_squared_error, r2_score");break;case d.ORDINAL_REGRESSION:a.appendLine("import mord\nfrom sklearn.metrics import accuracy_score");break;case d.POISSON_REGRESSION:a.appendLine("from sklearn import linear_model\nfrom sklearn.metrics import mean_poisson_deviance")}switch(e.preprocessors.includes(_.NORMALIZATION)&&a.appendLine("from sklearn.preprocessing import scale"),e.preprocessors.includes(_.PCA)&&a.appendLine("from sklearn.decomposition import PCA"),e.dataset_category){case E.SAMPLE:a.appendLine("from sklearn import datasets")}switch(a.appendLine(),e.dataset_category){case E.SAMPLE:a.appendLine((n=e.sample_dataset,"def loadData():\n    return datasets.load_".concat(n,"(return_X_y=True)\n")));break;case E.CUSTOM:a.appendLine("## Replace with your own dataset! Return X, y sets\ndef loadData():\n    return None, None\n    ")}switch(a.appendLine(),a.appendLine(bt(e)),a.appendLine(),a.appendLine("X, y = loadData()"),e.preprocessors.includes(_.NORMALIZATION)&&a.appendLine("X = scale(X)"),a.appendLine(At(e)),a.appendLine("# Split the data into training/testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n    "),a.appendLine(),e.model){case d.KNN:a.appendLine("# we create an instance of Neighbours Classifier and fit the data.\nclf = neighbors.KNeighborsClassifier(NEIGHBORS)\nclf.fit(X, y)\n\n# Plot the decision boundary. For that, we will assign a color to each\n# point in the mesh [x_min, x_max]x[y_min, y_max].\nx_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1\ny_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1\nxx, yy = np.meshgrid(np.arange(x_min, x_max, .02),\n                        np.arange(y_min, y_max, .02))\nZ = clf.predict(np.c_[xx.ravel(), yy.ravel()])\n\n# Put the result into a color plot\ncmap = 'coolwarm'\nZ = Z.reshape(xx.shape)\nplt.figure()\nplt.contourf(xx, yy, Z, cmap=cmap, alpha=0.7)\n\n# Plot the training points\nplt.scatter(X[:, 0], X[:, 1], c=y, cmap=cmap,\n            edgecolor='k', s=20)\nplt.xlim(xx.min(), xx.max())\nplt.ylim(yy.min(), yy.max())\nplt.title(\"Classification (k = %i)\"\n            % (NEIGHBORS))\n\nplt.show()\n");break;case d.NEURAL_NETWORK_FF:a.appendLine(function(e){var t=new ft;return t.appendLine("model = Sequential()"),t.append(Ot(e)),t.appendLine("model.compile(optimizer='".concat(e.optimizer,"', loss='").concat(e.loss,"')")),t.appendLine("model.fit(X_train, y_train, batch_size=32, epochs=100)"),t.toString()}(t));break;case d.LINEAR_REGRESSION:a.appendLine("# Create linear regression object\nregr = linear_model.LinearRegression()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The mean squared error\nprint('Mean squared error: %.2f'\n        % mean_squared_error(y_test, y_pred))\n# The coefficient of determination: 1 is perfect prediction\nprint('Coefficient of determination: %.2f'\n        % r2_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Linear Regression Model')\n\nplt.show()\n");break;case d.ORDINAL_REGRESSION:a.appendLine("# Create linear regression object\nregr = mord.OrdinalRidge()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The accuracy\nprint('Accuracy: %.2f'\n        % accuracy_score(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Ordinal Regression Model')\n\nplt.show()\n");break;case d.POISSON_REGRESSION:a.appendLine("# Create linear regression object\nregr = linear_model.PoissonRegressor()\n\n# Train the model using the training sets\nregr.fit(X_train, y_train)\n\n# Make predictions using the testing set\ny_pred = regr.predict(X_test)\n\n# The coefficients\nprint('Coefficients: \n', regr.coef_)\n# The mean poisson deviance\nprint('Mean poisson deviance: %.2f'\n        % mean_poisson_deviance(y_test, y_pred))\n\n# Plot outputs\nplt.scatter(X_test, y_test,  color='black')\nplt.plot(X_test, y_pred, color='blue', linewidth=3)\nplt.title('Poisson Regression Model')\n\nplt.show()\n")}return a.toString()},bt=function(e){if(e.preprocessors.includes(_.PCA))return function(e){return"COMPONENTS = ".concat(e)}(function(e){switch(e){case d.KNN:return 2;case d.NEURAL_NETWORK_FF:return"None";case d.ORDINAL_REGRESSION:case d.POISSON_REGRESSION:case d.LINEAR_REGRESSION:return 1}}(e.model));switch(e.model){case d.KNN:return"NEIGHBORS = ".concat(7);case d.LINEAR_REGRESSION:return"FEATURE_COLUMN = ".concat(5)}},At=function(e){if(e.preprocessors.includes(_.PCA))return"X = PCA(COMPONENTS).fit_transform(X)";switch(e.model){case d.KNN:return"X = X[:, :2]";case d.ORDINAL_REGRESSION:case d.POISSON_REGRESSION:case d.LINEAR_REGRESSION:return"X = X[:, np.newaxis, FEATURE_COLUMN]"}};var Rt=function(){var e=Oe().state,t=oe().nn_state;return r.a.createElement("textarea",{value:Nt(e,t),style:{width:"100%",height:"100%",fontSize:"11px"}})};var yt=function(){return r.a.createElement(Ae.a,{container:!0,style:{height:"100%"}},r.a.createElement(Ae.a,{item:!0,className:"visualizerContainer"},r.a.createElement(_t,null)),r.a.createElement(Ae.a,{item:!0,className:"outerContainer codeContainer"},r.a.createElement(Rt,null)))};var vt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{className:"summaryContainer",lg:2},r.a.createElement(at,null)),r.a.createElement(he.a,{className:"mainColumnContainer"},r.a.createElement(ie,null,r.a.createElement(yt,null))),r.a.createElement(he.a,{className:"rightColumnContainer",lg:3},r.a.createElement(ie,null,r.a.createElement(je,null))))};n(146);var Lt=function(){return r.a.createElement(o.a,{className:"vh-100",fluid:!0},r.a.createElement(fe,null,r.a.createElement(c.a,{className:"contentContainer"},r.a.createElement(vt,null)),r.a.createElement(ue,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(518);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,n){}},[[267,1,2]]]);
//# sourceMappingURL=main.097fec4b.chunk.js.map